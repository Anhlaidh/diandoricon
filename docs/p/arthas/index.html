<!DOCTYPE html>
<html lang="zh-cn" dir="ltr">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content='Êù•Ê∫ê‰∫é : rapdog'>
<title>Arthas</title>

<link rel='canonical' href='https://diandoricon.cloud/p/arthas/'>

<link rel="stylesheet" href="/scss/style.min.abbd69b2908fdfcd5179898beaafd374514a86538d81639ddd2c58c06ae54e40.css"><meta property='og:title' content='Arthas'>
<meta property='og:description' content='Êù•Ê∫ê‰∫é : rapdog'>
<meta property='og:url' content='https://diandoricon.cloud/p/arthas/'>
<meta property='og:site_name' content='Hugo Theme Stack Starter'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:tag' content='arthas' /><meta property='article:tag' content='java' /><meta property='article:published_time' content='2023-12-27T11:18:03&#43;00:00'/><meta property='article:modified_time' content='2023-12-27T11:18:03&#43;00:00'/>
<meta name="twitter:title" content="Arthas">
<meta name="twitter:description" content="Êù•Ê∫ê‰∫é : rapdog">
    <link rel="shortcut icon" href="/favicon.png" />

    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky ">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="ÂàáÊç¢ËèúÂçï">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="/">
                
                    
                    
                    
                        
                        <img src="/img/avatar_hue99ec05a92b209710183b3253823adca_2294_300x0_resize_box_3.png" width="300"
                            height="300" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
                    <span class="emoji">üç•</span>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="/">Hugo Theme Stack Starter</a></h1>
            <h2 class="site-description">Lorem ipsum dolor sit amet, consectetur adipiscing elit.</h2>
        </div>
    </header><ol class="social-menu">
            
                <li>
                    <a 
                        href='https://github.com/Anhlaidh'
                        target="_blank"
                        title="GitHub"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5" />
</svg>



                        
                    </a>
                </li>
            
                <li>
                    <a 
                        href='https://twitter.com'
                        target="_blank"
                        title="Twitter"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-twitter" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M22 4.01c-1 .49 -1.98 .689 -3 .99c-1.121 -1.265 -2.783 -1.335 -4.38 -.737s-2.643 2.06 -2.62 3.737v1c-3.245 .083 -6.135 -1.395 -8 -4c0 0 -4.182 7.433 4 11c-1.872 1.247 -3.739 2.088 -6 2c3.308 1.803 6.913 2.423 10.034 1.517c3.58 -1.04 6.522 -3.723 7.651 -7.742a13.84 13.84 0 0 0 .497 -3.753c-.002 -.249 1.51 -2.772 1.818 -4.013z" />
</svg>



                        
                    </a>
                </li>
            
        </ol><ol class="menu" id="main-menu">
        
        
        
        <li >
            <a href='/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="5 12 3 12 12 3 21 12 19 12" />
  <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
  <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
</svg>



                
                <span>Home</span>
            </a>
        </li>
        
        
        <li >
            <a href='/archives/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <rect x="3" y="4" width="18" height="4" rx="2" />
  <path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" />
  <line x1="10" y1="12" x2="14" y2="12" />
</svg>



                
                <span>Archives</span>
            </a>
        </li>
        
        
        <li >
            <a href='/search/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="10" cy="10" r="7" />
  <line x1="21" y1="21" x2="15" y2="15" />
</svg>



                
                <span>Search</span>
            </a>
        </li>
        
        
        <li >
            <a href='/links/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5" />
  <path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5" />
</svg>



                
                <span>Links</span>
            </a>
        </li>
        
        
        <li >
            <a href='' >
                
                
                
                <span></span>
            </a>
        </li>
        

        <div class="menu-bottom-section">
            
            
                <li id="dark-mode-toggle">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                    <span>ÊöóËâ≤Ê®°Âºè</span>
                </li>
            
        </div>
    </ol>
</aside>

    <aside class="sidebar right-sidebar sticky">
        
            
                
    <section class="widget archives">
        <div class="widget-icon">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



        </div>
        <h2 class="widget-title section-title">ÁõÆÂΩï</h2>
        
        <div class="widget--toc">
            <nav id="TableOfContents">
  <ol>
    <li><a href="#‰∏ÄÁÆÄ‰ªã">‰∏Ä„ÄÅÁÆÄ‰ªã</a>
      <ol>
        <li><a href="#arthasÈ°πÁõÆÂú∞ÂùÄ">ArthasÈ°πÁõÆÂú∞ÂùÄ</a></li>
      </ol>
    </li>
  </ol>

  <ol>
    <li><a href="#ËÉåÊôØ">ËÉåÊôØ</a></li>
    <li><a href="#arthasÈòøÂ∞îËê®ÊñØËÉΩ‰∏∫‰Ω†ÂÅö‰ªÄ‰πà">ArthasÔºàÈòøÂ∞îËê®ÊñØÔºâËÉΩ‰∏∫‰Ω†ÂÅö‰ªÄ‰πàÔºü</a></li>
    <li><a href="#‰∫å-ÂÆâË£ÖÂêØÂä®">‰∫å„ÄÅ ÂÆâË£Ö&amp;ÂêØÂä®</a>
      <ol>
        <li><a href="#‰ΩøÁî®arthas-bootÊé®Ëçê">‰ΩøÁî®<code>arthas-boot</code>ÔºàÊé®ËçêÔºâ</a></li>
        <li><a href="#ÂÆâË£Ö">ÂÆâË£Ö</a></li>
        <li><a href="#ÂêØÂä®">ÂêØÂä®</a></li>
        <li><a href="#ÊåÇËΩΩÂà∞javaËøõÁ®ã">ÊåÇËΩΩÂà∞javaËøõÁ®ã</a></li>
      </ol>
    </li>
    <li><a href="#‰∏â-‰ΩøÁî®">‰∏â„ÄÅ ‰ΩøÁî®</a>
      <ol>
        <li><a href="#Âü∫Á°ÄÂëΩ‰ª§">Âü∫Á°ÄÂëΩ‰ª§</a>
          <ol>
            <li><a href="#1helpÊü•ÁúãarthasÂëΩ‰ª§Â∏ÆÂä©‰ø°ÊÅØ">1.<code>help</code>ÔºöÊü•ÁúãarthasÂëΩ‰ª§Â∏ÆÂä©‰ø°ÊÅØ</a></li>
            <li><a href="#2keymapËæìÂá∫ÂΩìÂâçÁöÑÂø´Êç∑ÈîÆÊò†Â∞ÑË°®">2.<code>keymap</code>ÔºöËæìÂá∫ÂΩìÂâçÁöÑÂø´Êç∑ÈîÆÊò†Â∞ÑË°®</a></li>
            <li><a href="#3catÊâìÂç∞Êñá‰ª∂ÂÜÖÂÆπ">3.<code>cat</code>ÔºöÊâìÂç∞Êñá‰ª∂ÂÜÖÂÆπ</a></li>
            <li><a href="#4grepËøáÊª§ÂÜÖÂÆπ">4.<code>grep</code>ÔºöËøáÊª§ÂÜÖÂÆπ</a></li>
            <li><a href="#5pwdËøîÂõûÂΩìÂâçÁöÑÂ∑•‰ΩúÁõÆÂΩï">5.<code>pwd</code>ÔºöËøîÂõûÂΩìÂâçÁöÑÂ∑•‰ΩúÁõÆÂΩï</a></li>
            <li><a href="#6sessionÊü•ÁúãÂΩìÂâç‰ºöËØùÁöÑ‰ø°ÊÅØ">6.<code>session</code>ÔºöÊü•ÁúãÂΩìÂâç‰ºöËØùÁöÑ‰ø°ÊÅØ</a></li>
            <li><a href="#7historyÊâìÂç∞ÂëΩ‰ª§ÂéÜÂè≤">7.<code>history</code>ÔºöÊâìÂç∞ÂëΩ‰ª§ÂéÜÂè≤</a></li>
            <li><a href="#8clsÊ∏ÖÁ©∫ÂΩìÂâçÂ±èÂπïÂå∫Âüü">8.<code>cls</code>ÔºöÊ∏ÖÁ©∫ÂΩìÂâçÂ±èÂπïÂå∫Âüü</a></li>
            <li><a href="#9resetÈáçÁΩÆÂ¢ûÂº∫Á±ª">9.<code>reset</code>ÔºöÈáçÁΩÆÂ¢ûÂº∫Á±ª</a></li>
            <li><a href="#10quitÈÄÄÂá∫ÂΩìÂâç-arthas-ÂÆ¢Êà∑Á´Ø">10.<code>quit</code>ÔºöÈÄÄÂá∫ÂΩìÂâç Arthas ÂÆ¢Êà∑Á´Ø</a></li>
            <li><a href="#11stopÂÖ≥Èó≠-arthas-ÊúçÂä°Á´ØÊâÄÊúâ-arthas-ÂÆ¢Êà∑Á´ØÂÖ®ÈÉ®ÈÄÄÂá∫">11.<code>stop</code>ÔºöÂÖ≥Èó≠ Arthas ÊúçÂä°Á´ØÔºåÊâÄÊúâ Arthas ÂÆ¢Êà∑Á´ØÂÖ®ÈÉ®ÈÄÄÂá∫„ÄÇ</a></li>
          </ol>
        </li>
        <li><a href="#Ê†∏ÂøÉÂëΩ‰ª§">Ê†∏ÂøÉÂëΩ‰ª§</a>
          <ol>
            <li><a href="#1-monitorÁõëÊéßÊñπÊ≥ïÁöÑÊâßË°åÊÉÖÂÜµ">1. <code>monitor</code>ÔºöÁõëÊéßÊñπÊ≥ïÁöÑÊâßË°åÊÉÖÂÜµ</a></li>
            <li><a href="#2watchËßÇÂØüÊñπÊ≥ïË∞ÉÁî®ÊÉÖÂÜµ">2.<code>watch</code>ÔºöËßÇÂØüÊñπÊ≥ïË∞ÉÁî®ÊÉÖÂÜµ</a></li>
            <li><a href="#3traceÊ†πÊçÆË∑ØÂæÑËøΩË∏™Âπ∂ËÆ∞ÂΩïÊ∂àËÄóÊó∂Èó¥">3.<code>trace</code>ÔºöÊ†πÊçÆË∑ØÂæÑËøΩË∏™ÔºåÂπ∂ËÆ∞ÂΩïÊ∂àËÄóÊó∂Èó¥</a></li>
            <li><a href="#4stackËæìÂá∫ÂΩìÂâçÊñπÊ≥ïË¢´Ë∞ÉÁî®ÁöÑË∞ÉÁî®Ë∑ØÂæÑ">4.<code>stack</code>ÔºöËæìÂá∫ÂΩìÂâçÊñπÊ≥ïË¢´Ë∞ÉÁî®ÁöÑË∞ÉÁî®Ë∑ØÂæÑ</a></li>
            <li><a href="#5ttËÆ∞ÂΩïÊñπÊ≥ïÊâßË°åÊï∞ÊçÆÁöÑÊó∂Á©∫ÈößÈÅì">5.<code>tt</code>ÔºöËÆ∞ÂΩïÊñπÊ≥ïÊâßË°åÊï∞ÊçÆÁöÑÊó∂Á©∫ÈößÈÅì</a></li>
            <li><a href="#6dashboardÂΩìÂâçÁ≥ªÁªüÁöÑÂÆûÊó∂Êï∞ÊçÆÈù¢Êùø">6.<code>dashboard</code>ÔºöÂΩìÂâçÁ≥ªÁªüÁöÑÂÆûÊó∂Êï∞ÊçÆÈù¢Êùø</a></li>
            <li><a href="#7ognlÊâßË°åognlË°®ËææÂºè">7.<code>ognl</code>ÔºöÊâßË°åognlË°®ËææÂºè</a></li>
            <li><a href="#8scÊü•Áúã-jvm-Â∑≤Âä†ËΩΩÁöÑÁ±ª‰ø°ÊÅØ">8.<code>sc</code>ÔºöÊü•Áúã JVM Â∑≤Âä†ËΩΩÁöÑÁ±ª‰ø°ÊÅØ</a></li>
            <li><a href="#9smÊü•ÁúãÂ∑≤Âä†ËΩΩÁ±ªÁöÑÊñπÊ≥ï‰ø°ÊÅØ">9.<code>sm</code>ÔºöÊü•ÁúãÂ∑≤Âä†ËΩΩÁ±ªÁöÑÊñπÊ≥ï‰ø°ÊÅØ</a></li>
            <li><a href="#10vmtoolÊü•ÁúãÂÜÖÂ≠ò‰∏≠ÁöÑÂÆû‰æãÂº∫Âà∂gc">10.<code>vmtool</code>ÔºöÊü•ÁúãÂÜÖÂ≠ò‰∏≠ÁöÑÂÆû‰æã/Âº∫Âà∂GC</a></li>
          </ol>
        </li>
        <li><a href="#Á§∫‰æãÂú∫ÊôØ">Á§∫‰æãÂú∫ÊôØ</a>
          <ol>
            <li><a href="#Âú∫ÊôØ‰∏ÄÊâãÂä®Ëß¶ÂèëbeanÁöÑÊñπÊ≥ï">Âú∫ÊôØ‰∏ÄÔºöÊâãÂä®Ëß¶ÂèëbeanÁöÑÊñπÊ≥ï</a></li>
            <li><a href="#Âú∫ÊôØ‰∫å‰øÆÊîπprivateÂ±ûÊÄß">Âú∫ÊôØ‰∫åÔºö‰øÆÊîπprivateÂ±ûÊÄß</a></li>
            <li><a href="#Âú∫ÊôØ‰∏â‰∏çÈáçÂêØÊúçÂä°Âà∑Êñ∞csfÂÆ¢Êà∑Á´ØÁºìÂ≠ò">Âú∫ÊôØ‰∏âÔºö‰∏çÈáçÂêØÊúçÂä°Âà∑Êñ∞csfÂÆ¢Êà∑Á´ØÁºìÂ≠ò</a></li>
          </ol>
        </li>
      </ol>
    </li>
  </ol>
</nav>
        </div>
    </section>

            
        
    </aside>


            <main class="main full-width">
    <article class="main-article">
    <header class="article-header">

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="/categories/tecnology/" >
                Tecnology
            </a>
        
    </header>
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/p/arthas/">Arthas</a>
        </h2>
    
        
        <h3 class="article-subtitle">
            Êù•Ê∫ê‰∫é : rapdog
        </h3>
        
    </div>

    
    
    
    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">Dec 27, 2023</time>
            </div>
        

        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--reading">
                    ÈòÖËØªÊó∂Èïø: 6 ÂàÜÈíü
                </time>
            </div>
        
    </footer>
    

    
</div>

</header>

    <section class="article-content">
    
    
    <h2 id="‰∏ÄÁÆÄ‰ªã">‰∏Ä„ÄÅÁÆÄ‰ªã</h2>
<h3 id="arthasÈ°πÁõÆÂú∞ÂùÄ">ArthasÈ°πÁõÆÂú∞ÂùÄ</h3>
<p><a class="link" href="https://github.com/alibaba/arthas"  target="_blank" rel="noopener"
    >GitHub</a></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">https://github.com/alibaba/arthas
</span></span></code></pre></td></tr></table>
</div>
</div><p><a class="link" href="http://arthas.gitee.io/"  target="_blank" rel="noopener"
    >Á†Å‰∫ë</a></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">http://arthas.gitee.io/
</span></span></code></pre></td></tr></table>
</div>
</div><p><em>‰ª•‰∏ãÊòØArthasÂÆòÁΩë‰ªãÁªç</em></p>
<blockquote>
<h1 id="ÁÆÄ‰ªã">ÁÆÄ‰ªã</h1>
<p><img src="https://arthas.gitee.io/images/arthas.png"
	
	
	
	loading="lazy"
	
		alt="img"
	
	
></p>
<p>Arthas ÊòØ‰∏ÄÊ¨æÁ∫ø‰∏äÁõëÊéßËØäÊñ≠‰∫ßÂìÅÔºåÈÄöËøáÂÖ®Â±ÄËßÜËßíÂÆûÊó∂Êü•ÁúãÂ∫îÁî® load„ÄÅÂÜÖÂ≠ò„ÄÅgc„ÄÅÁ∫øÁ®ãÁöÑÁä∂ÊÄÅ‰ø°ÊÅØÔºåÂπ∂ËÉΩÂú®‰∏ç‰øÆÊîπÂ∫îÁî®‰ª£Á†ÅÁöÑÊÉÖÂÜµ‰∏ãÔºåÂØπ‰∏öÂä°ÈóÆÈ¢òËøõË°åËØäÊñ≠ÔºåÂåÖÊã¨Êü•ÁúãÊñπÊ≥ïË∞ÉÁî®ÁöÑÂá∫ÂÖ•ÂèÇ„ÄÅÂºÇÂ∏∏ÔºåÁõëÊµãÊñπÊ≥ïÊâßË°åËÄóÊó∂ÔºåÁ±ªÂä†ËΩΩ‰ø°ÊÅØÁ≠âÔºåÂ§ßÂ§ßÊèêÂçáÁ∫ø‰∏äÈóÆÈ¢òÊéíÊü•ÊïàÁéá„ÄÇ</p>
<h2 id="ËÉåÊôØ">ËÉåÊôØ</h2>
<p>ÈÄöÂ∏∏ÔºåÊú¨Âú∞ÂºÄÂèëÁéØÂ¢ÉÊó†Ê≥ïËÆøÈóÆÁîü‰∫ßÁéØÂ¢É„ÄÇÂ¶ÇÊûúÂú®Áîü‰∫ßÁéØÂ¢É‰∏≠ÈÅáÂà∞ÈóÆÈ¢òÔºåÂàôÊó†Ê≥ï‰ΩøÁî® IDE ËøúÁ®ãË∞ÉËØï„ÄÇÊõ¥Á≥üÁ≥ïÁöÑÊòØÔºåÂú®Áîü‰∫ßÁéØÂ¢É‰∏≠Ë∞ÉËØïÊòØ‰∏çÂèØÊé•ÂèóÁöÑÔºåÂõ†‰∏∫ÂÆÉ‰ºöÊöÇÂÅúÊâÄÊúâÁ∫øÁ®ãÔºåÂØºËá¥ÊúçÂä°ÊöÇÂÅú„ÄÇ</p>
<p>ÂºÄÂèë‰∫∫ÂëòÂèØ‰ª•Â∞ùËØïÂú®ÊµãËØïÁéØÂ¢ÉÊàñËÄÖÈ¢ÑÂèëÁéØÂ¢É‰∏≠Â§çÁé∞Áîü‰∫ßÁéØÂ¢É‰∏≠ÁöÑÈóÆÈ¢ò„ÄÇ‰ΩÜÊòØÔºåÊüê‰∫õÈóÆÈ¢òÊó†Ê≥ïÂú®‰∏çÂêåÁöÑÁéØÂ¢É‰∏≠ËΩªÊùæÂ§çÁé∞ÔºåÁîöËá≥Âú®ÈáçÊñ∞ÂêØÂä®ÂêéÂ∞±Ê∂àÂ§±‰∫Ü„ÄÇ</p>
<p>Â¶ÇÊûúÊÇ®Ê≠£Âú®ËÄÉËôëÂú®‰ª£Á†Å‰∏≠Ê∑ªÂä†‰∏Ä‰∫õÊó•Âøó‰ª•Â∏ÆÂä©Ëß£ÂÜ≥ÈóÆÈ¢òÔºåÊÇ®Â∞ÜÂøÖÈ°ªÁªèÂéÜ‰ª•‰∏ãÈò∂ÊÆµÔºöÊµãËØï„ÄÅÈ¢ÑÂèëÔºåÁÑ∂ÂêéÁîü‰∫ß„ÄÇËøôÁßçÊñπÊ≥ïÊïàÁéá‰Ωé‰∏ãÔºåÊõ¥Á≥üÁ≥ïÁöÑÊòØÔºåËØ•ÈóÆÈ¢òÂèØËÉΩÊó†Ê≥ïËß£ÂÜ≥ÔºåÂõ†‰∏∫‰∏ÄÊó¶ JVM ÈáçÊñ∞ÂêØÂä®ÔºåÂÆÉÂèØËÉΩÊó†Ê≥ïÂ§çÁé∞ÔºåÂ¶Ç‰∏äÊñáÊâÄËø∞„ÄÇ</p>
<p>Arthas Êó®Âú®Ëß£ÂÜ≥Ëøô‰∫õÈóÆÈ¢ò„ÄÇÂºÄÂèë‰∫∫ÂëòÂèØ‰ª•Âú®Á∫øËß£ÂÜ≥Áîü‰∫ßÈóÆÈ¢ò„ÄÇÊó†ÈúÄ JVM ÈáçÂêØÔºåÊó†ÈúÄ‰ª£Á†ÅÊõ¥Êîπ„ÄÇ Arthas ‰Ωú‰∏∫ËßÇÂØüËÄÖÊ∞∏Ëøú‰∏ç‰ºöÊöÇÂÅúÊ≠£Âú®ËøêË°åÁöÑÁ∫øÁ®ã„ÄÇ</p>
<h2 id="arthasÈòøÂ∞îËê®ÊñØËÉΩ‰∏∫‰Ω†ÂÅö‰ªÄ‰πà">ArthasÔºàÈòøÂ∞îËê®ÊñØÔºâËÉΩ‰∏∫‰Ω†ÂÅö‰ªÄ‰πàÔºü</h2>
<p><code>Arthas</code> ÊòØ Alibaba ÂºÄÊ∫êÁöÑ Java ËØäÊñ≠Â∑•ÂÖ∑ÔºåÊ∑±ÂèóÂºÄÂèëËÄÖÂñúÁà±„ÄÇ</p>
<p>ÂΩì‰Ω†ÈÅáÂà∞‰ª•‰∏ãÁ±ª‰ººÈóÆÈ¢òËÄåÊùüÊâãÊó†Á≠ñÊó∂Ôºå<code>Arthas</code>ÂèØ‰ª•Â∏ÆÂä©‰Ω†Ëß£ÂÜ≥Ôºö</p>
<ol>
<li>Ëøô‰∏™Á±ª‰ªéÂì™‰∏™ jar ÂåÖÂä†ËΩΩÁöÑÔºü‰∏∫‰ªÄ‰πà‰ºöÊä•ÂêÑÁßçÁ±ªÁõ∏ÂÖ≥ÁöÑ ExceptionÔºü</li>
<li>ÊàëÊîπÁöÑ‰ª£Á†Å‰∏∫‰ªÄ‰πàÊ≤°ÊúâÊâßË°åÂà∞ÔºüÈöæÈÅìÊòØÊàëÊ≤° commitÔºüÂàÜÊîØÊêûÈîô‰∫ÜÔºü</li>
<li>ÈÅáÂà∞ÈóÆÈ¢òÊó†Ê≥ïÂú®Á∫ø‰∏ä debugÔºåÈöæÈÅìÂè™ËÉΩÈÄöËøáÂä†Êó•ÂøóÂÜçÈáçÊñ∞ÂèëÂ∏ÉÂêóÔºü</li>
<li>Á∫ø‰∏äÈÅáÂà∞Êüê‰∏™Áî®Êà∑ÁöÑÊï∞ÊçÆÂ§ÑÁêÜÊúâÈóÆÈ¢òÔºå‰ΩÜÁ∫ø‰∏äÂêåÊ†∑Êó†Ê≥ï debugÔºåÁ∫ø‰∏ãÊó†Ê≥ïÈáçÁé∞ÔºÅ</li>
<li>ÊòØÂê¶Êúâ‰∏Ä‰∏™ÂÖ®Â±ÄËßÜËßíÊù•Êü•ÁúãÁ≥ªÁªüÁöÑËøêË°åÁä∂ÂÜµÔºü</li>
<li>Êúâ‰ªÄ‰πàÂäûÊ≥ïÂèØ‰ª•ÁõëÊéßÂà∞ JVM ÁöÑÂÆûÊó∂ËøêË°åÁä∂ÊÄÅÔºü</li>
<li>ÊÄé‰πàÂø´ÈÄüÂÆö‰ΩçÂ∫îÁî®ÁöÑÁÉ≠ÁÇπÔºåÁîüÊàêÁÅ´ÁÑ∞ÂõæÔºü</li>
<li>ÊÄéÊ†∑Áõ¥Êé•‰ªé JVM ÂÜÖÊü•ÊâæÊüê‰∏™Á±ªÁöÑÂÆû‰æãÔºü</li>
</ol>
<p><code>Arthas</code> ÊîØÊåÅ JDK 6+ÔºåÊîØÊåÅ Linux/Mac/WindowsÔºåÈááÁî®ÂëΩ‰ª§Ë°å‰∫§‰∫íÊ®°ÂºèÔºåÂêåÊó∂Êèê‰æõ‰∏∞ÂØåÁöÑ <code>Tab</code> Ëá™Âä®Ë°•ÂÖ®ÂäüËÉΩÔºåËøõ‰∏ÄÊ≠•Êñπ‰æøËøõË°åÈóÆÈ¢òÁöÑÂÆö‰ΩçÂíåËØäÊñ≠„ÄÇ</p>
</blockquote>
<h2 id="‰∫å-ÂÆâË£ÖÂêØÂä®">‰∫å„ÄÅ ÂÆâË£Ö&amp;ÂêØÂä®</h2>
<h3 id="‰ΩøÁî®arthas-bootÊé®Ëçê">‰ΩøÁî®<code>arthas-boot</code>ÔºàÊé®ËçêÔºâ</h3>
<ol>
<li>
<h3 id="ÂÆâË£Ö">ÂÆâË£Ö</h3>
<p>ÁªøËâ≤ËΩØ‰ª∂ÔºåÁõ¥Êé•‰∏ãËΩΩÂç≥ÂèØÁõ¥Êé•ÂêØÂä®</p>
<p><a class="link" href="https://arthas.aliyun.com/arthas-boot.jar"  target="_blank" rel="noopener"
    >‰∏ãËΩΩÂú∞ÂùÄ</a></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">https://arthas.aliyun.com/arthas-boot.jar
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<h3 id="ÂêØÂä®">ÂêØÂä®</h3>
<p>ÂêØÂä®ÂëΩ‰ª§</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">java -jar arthas-boot.jar
</span></span></code></pre></td></tr></table>
</div>
</div><p>Ëã•‰ΩøÁî®ËøáÁ®ã‰∏≠ÈÅáÂà∞‰∏≠Êñá‰π±Á†ÅÔºåÂèØÂú®ÂêØÂä®ÂëΩ‰ª§ÊåáÂÆöÁºñÁ†ÅÊ†ºÂºè</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">java -jar -Dfile.encoding<span class="o">=</span>UTF-8 arthas-boot.jar
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">java -jar -Dfile.encoding<span class="o">=</span>gbk arthas-boot.jar
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<h3 id="ÊåÇËΩΩÂà∞javaËøõÁ®ã">ÊåÇËΩΩÂà∞javaËøõÁ®ã</h3>
<p>arthasÂêØÂä®ÂêéÔºåÈÄâÊã©ÈúÄË¶ÅÊåÇËΩΩÁöÑjavaËøõÁ®ãÂ∫èÂè∑</p>
</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="o">[</span>root@xxx ~<span class="o">]</span>java -jar .<span class="se">\a</span>rthas-boot.jar
</span></span><span class="line"><span class="cl"><span class="o">[</span>INFO<span class="o">]</span> JAVA_HOME: /opt/Java/jdk-11
</span></span><span class="line"><span class="cl"><span class="o">[</span>INFO<span class="o">]</span> arthas-boot version: 3.6.9
</span></span><span class="line"><span class="cl"><span class="o">[</span>INFO<span class="o">]</span> Found existing java process, please choose one and input the serial number of the process, eg : 1. Then hit ENTER.
</span></span><span class="line"><span class="cl">* <span class="o">[</span>1<span class="o">]</span>: <span class="m">26868</span> com.ai.UnidocWebStartup
</span></span><span class="line"><span class="cl">  <span class="o">[</span>2<span class="o">]</span>: <span class="m">15232</span> org.jetbrains.idea.maven.server.RemoteMavenServer36
</span></span><span class="line"><span class="cl">  <span class="o">[</span>3<span class="o">]</span>: <span class="m">20000</span> org.jetbrains.idea.maven.server.RemoteMavenServer36
</span></span><span class="line"><span class="cl">  <span class="o">[</span>4<span class="o">]</span>: <span class="m">3984</span> org.apache.zookeeper.server.quorum.QuorumPeerMain
</span></span><span class="line"><span class="cl">  <span class="o">[</span>5<span class="o">]</span>: <span class="m">9936</span>
</span></span><span class="line"><span class="cl">  <span class="o">[</span>6<span class="o">]</span>: <span class="m">10468</span> org.jetbrains.jps.cmdline.Launcher
</span></span><span class="line"><span class="cl">  <span class="o">[</span>7<span class="o">]</span>: <span class="m">23480</span> org.jetbrains.idea.maven.server.RemoteMavenServer36
</span></span><span class="line"><span class="cl">  <span class="o">[</span>8<span class="o">]</span>: <span class="m">11324</span> com.cmcc.unidoc.UnidocServerStartup
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl"> <span class="m">1</span>
</span></span><span class="line"><span class="cl">    ,---.  ,------. ,--------.,--.  ,--.  ,---.   ,---.
</span></span><span class="line"><span class="cl"> /  O  <span class="se">\ </span><span class="p">|</span>  .--. <span class="s1">&#39;&#39;</span>--.  .--<span class="s1">&#39;|  &#39;</span>--<span class="s1">&#39;  | /  O  \ &#39;</span>   .-<span class="s1">&#39;
</span></span></span><span class="line"><span class="cl"><span class="s1">|  .-.  ||  &#39;</span>--<span class="s1">&#39;.&#39;</span>   <span class="p">|</span>  <span class="p">|</span>   <span class="p">|</span>  .--.  <span class="o">||</span>  .-.  <span class="p">|</span><span class="sb">`</span>.  <span class="sb">`</span>-.
</span></span><span class="line"><span class="cl"><span class="p">|</span>  <span class="p">|</span> <span class="p">|</span>  <span class="o">||</span>  <span class="p">|</span><span class="se">\ </span> <span class="se">\ </span>   <span class="p">|</span>  <span class="p">|</span>   <span class="p">|</span>  <span class="p">|</span>  <span class="p">|</span>  <span class="o">||</span>  <span class="p">|</span> <span class="p">|</span>  <span class="p">|</span>.-<span class="s1">&#39;    |
</span></span></span><span class="line"><span class="cl"><span class="s1">`--&#39;</span> <span class="sb">`</span>--<span class="s1">&#39;`--&#39;</span> <span class="s1">&#39;--&#39;</span>   <span class="sb">`</span>--<span class="s1">&#39;   `--&#39;</span>  <span class="sb">`</span>--<span class="s1">&#39;`--&#39;</span> <span class="sb">`</span>--<span class="s1">&#39;`-----&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">wiki       https://arthas.aliyun.com/doc
</span></span><span class="line"><span class="cl">tutorials  https://arthas.aliyun.com/doc/arthas-tutorials.html
</span></span><span class="line"><span class="cl">version    3.6.9
</span></span><span class="line"><span class="cl">main_class
</span></span><span class="line"><span class="cl">pid        <span class="m">26868</span>
</span></span><span class="line"><span class="cl"><span class="nb">time</span>       2023-11-17 16:12:03
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">[</span>arthas@26868<span class="o">]</span>$
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="‰∏â-‰ΩøÁî®">‰∏â„ÄÅ ‰ΩøÁî®</h2>
<h3 id="Âü∫Á°ÄÂëΩ‰ª§">Âü∫Á°ÄÂëΩ‰ª§</h3>
<div class="table-wrapper"><table>
<thead>
<tr>
<th>Â∫èÂè∑</th>
<th>ÂëΩ‰ª§</th>
<th>ËØ¥Êòé</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td><code>help</code></td>
<td>Êü•ÁúãarthasÂëΩ‰ª§Â∏ÆÂä©‰ø°ÊÅØÔºåÂèØÂú®ÂÖ∂‰ªñÂëΩ‰ª§ÂêéÂä†-hÂèÇÊï∞Êü•ÁúãËØ•ÂëΩ‰ª§ÁöÑÂèÇÊï∞‰ø°ÊÅØ</td>
</tr>
<tr>
<td>2</td>
<td><code>keymap</code></td>
<td><code>keymap</code>ÂëΩ‰ª§ËæìÂá∫ÂΩìÂâçÁöÑÂø´Êç∑ÈîÆÊò†Â∞ÑË°®</td>
</tr>
<tr>
<td>3</td>
<td><code>cat</code></td>
<td>ÊòæÁ§∫ÊñáÊú¨Êñá‰ª∂ÂÜÖÂÆπ</td>
</tr>
<tr>
<td>4</td>
<td><code>grep</code></td>
<td>ËøáÊª§ÂÜÖÂÆπÔºåÂíå linux ÂëΩ‰ª§Á±ª‰ºº</td>
</tr>
<tr>
<td>5</td>
<td><code>pwd</code></td>
<td>ËøîÂõûÂΩìÂâçÁöÑÂ∑•‰ΩúÁõÆÂΩïÔºåÂíå linux ÂëΩ‰ª§Á±ª‰ºº</td>
</tr>
<tr>
<td>6</td>
<td><code>session</code></td>
<td>Êü•ÁúãÂΩìÂâç‰ºöËØùÁöÑ‰ø°ÊÅØÔºåÊòæÁ§∫ÂΩìÂâçÁªëÂÆöÁöÑ pid ‰ª•Âèä‰ºöËØù id</td>
</tr>
<tr>
<td>7</td>
<td><code>history</code></td>
<td>ÊâìÂç∞ÂëΩ‰ª§ÂéÜÂè≤</td>
</tr>
<tr>
<td>8</td>
<td><code>cls</code></td>
<td>Ê∏ÖÁ©∫ÂΩìÂâçÂ±èÂπïÂå∫Âüü</td>
</tr>
<tr>
<td>9</td>
<td><code>reset</code></td>
<td>ÈáçÁΩÆÂ¢ûÂº∫Á±ªÔºåÂ∞ÜË¢´ Arthas Â¢ûÂº∫ËøáÁöÑÁ±ªÂÖ®ÈÉ®ËøòÂéüÔºåArthas ÊúçÂä°Á´Ø<code>stop</code>Êó∂‰ºöÈáçÁΩÆÊâÄÊúâÂ¢ûÂº∫ËøáÁöÑÁ±ª</td>
</tr>
<tr>
<td>10</td>
<td><code>quit</code></td>
<td>ÈÄÄÂá∫ÂΩìÂâç Arthas ÂÆ¢Êà∑Á´ØÔºåÂÖ∂‰ªñ Arthas ÂÆ¢Êà∑Á´Ø‰∏çÂèóÂΩ±Âìç„ÄÇÁ≠âÂêå‰∫é<strong>exit</strong>„ÄÅ<strong>logout</strong>„ÄÅ<strong>q</strong>‰∏â‰∏™Êåá‰ª§</td>
</tr>
<tr>
<td>11</td>
<td><code>stop</code></td>
<td>ÊèêÁ§∫ÂÖ≥Èó≠ Arthas ÊúçÂä°Á´ØÔºåÊâÄÊúâ Arthas ÂÆ¢Êà∑Á´ØÂÖ®ÈÉ®ÈÄÄÂá∫</td>
</tr>
</tbody>
</table></div>
<h4 id="1helpÊü•ÁúãarthasÂëΩ‰ª§Â∏ÆÂä©‰ø°ÊÅØ">1.<code>help</code>ÔºöÊü•ÁúãarthasÂëΩ‰ª§Â∏ÆÂä©‰ø°ÊÅØ</h4>
<p>Êü•ÁúãarthasÂëΩ‰ª§Â∏ÆÂä©‰ø°ÊÅØÔºåÂèØÂú®ÂÖ∂‰ªñÂëΩ‰ª§ÂêéÂä†-hÂèÇÊï∞Êü•ÁúãËØ•ÂëΩ‰ª§ÁöÑÂèÇÊï∞‰ø°ÊÅØ</p>
<h4 id="2keymapËæìÂá∫ÂΩìÂâçÁöÑÂø´Êç∑ÈîÆÊò†Â∞ÑË°®">2.<code>keymap</code>ÔºöËæìÂá∫ÂΩìÂâçÁöÑÂø´Êç∑ÈîÆÊò†Â∞ÑË°®</h4>
<p>ËæìÂá∫ÂΩìÂâçÁöÑÂø´Êç∑ÈîÆÊò†Â∞ÑË°®</p>
<h4 id="3catÊâìÂç∞Êñá‰ª∂ÂÜÖÂÆπ">3.<code>cat</code>ÔºöÊâìÂç∞Êñá‰ª∂ÂÜÖÂÆπ</h4>
<p>ÊâìÂç∞Êñá‰ª∂ÂÜÖÂÆπÔºåÂíå linux ÈáåÁöÑ cat ÂëΩ‰ª§Á±ª‰ºº„ÄÇ</p>
<h4 id="4grepËøáÊª§ÂÜÖÂÆπ">4.<code>grep</code>ÔºöËøáÊª§ÂÜÖÂÆπ</h4>
<p>ËøáÊª§ÂÜÖÂÆπÔºåÁ±ª‰ºº‰º†ÁªüÁöÑ<code>grep</code>ÂëΩ‰ª§„ÄÇ</p>
<h4 id="5pwdËøîÂõûÂΩìÂâçÁöÑÂ∑•‰ΩúÁõÆÂΩï">5.<code>pwd</code>ÔºöËøîÂõûÂΩìÂâçÁöÑÂ∑•‰ΩúÁõÆÂΩï</h4>
<p>ËøîÂõûÂΩìÂâçÁöÑÂ∑•‰ΩúÁõÆÂΩïÔºåÂíå linux ÂëΩ‰ª§Á±ª‰ºº</p>
<h4 id="6sessionÊü•ÁúãÂΩìÂâç‰ºöËØùÁöÑ‰ø°ÊÅØ">6.<code>session</code>ÔºöÊü•ÁúãÂΩìÂâç‰ºöËØùÁöÑ‰ø°ÊÅØ</h4>
<p>Êü•ÁúãÂΩìÂâç‰ºöËØùÁöÑ‰ø°ÊÅØÔºåÊòæÁ§∫ÂΩìÂâçÁªëÂÆöÁöÑ pid ‰ª•Âèä‰ºöËØù id„ÄÇ</p>
<h4 id="7historyÊâìÂç∞ÂëΩ‰ª§ÂéÜÂè≤">7.<code>history</code>ÔºöÊâìÂç∞ÂëΩ‰ª§ÂéÜÂè≤</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1">#Êü•ÁúãÊúÄËøëÊâßË°åÁöÑ3Êù°Êåá‰ª§</span>
</span></span><span class="line"><span class="cl">$ <span class="nb">history</span> <span class="m">3</span>
</span></span><span class="line"><span class="cl">  <span class="m">269</span>  thread
</span></span><span class="line"><span class="cl">  <span class="m">270</span>  cls
</span></span><span class="line"><span class="cl">  <span class="m">271</span>  <span class="nb">history</span> <span class="m">3</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="8clsÊ∏ÖÁ©∫ÂΩìÂâçÂ±èÂπïÂå∫Âüü">8.<code>cls</code>ÔºöÊ∏ÖÁ©∫ÂΩìÂâçÂ±èÂπïÂå∫Âüü</h4>
<p>Ê∏ÖÁ©∫ÂΩìÂâçÂ±èÂπïÂå∫Âüü</p>
<h4 id="9resetÈáçÁΩÆÂ¢ûÂº∫Á±ª">9.<code>reset</code>ÔºöÈáçÁΩÆÂ¢ûÂº∫Á±ª</h4>
<p>Â∞ÜË¢´ Arthas Â¢ûÂº∫ËøáÁöÑÁ±ªÂÖ®ÈÉ®ËøòÂéüÔºåArthas ÊúçÂä°Á´Ø<code>stop</code>Êó∂‰ºöÈáçÁΩÆÊâÄÊúâÂ¢ûÂº∫ËøáÁöÑÁ±ª</p>
<h4 id="10quitÈÄÄÂá∫ÂΩìÂâç-arthas-ÂÆ¢Êà∑Á´Ø">10.<code>quit</code>ÔºöÈÄÄÂá∫ÂΩìÂâç Arthas ÂÆ¢Êà∑Á´Ø</h4>
<p>ÈÄÄÂá∫ÂΩìÂâç Arthas ÂÆ¢Êà∑Á´ØÔºåÂÖ∂‰ªñ Arthas ÂÆ¢Êà∑Á´Ø‰∏çÂèóÂΩ±Âìç„ÄÇÁ≠âÂêå‰∫é<strong>exit</strong>„ÄÅ<strong>logout</strong>„ÄÅ<strong>q</strong>‰∏â‰∏™Êåá‰ª§„ÄÇ</p>
<p>Âè™ÊòØÈÄÄÂá∫ÂΩìÂâç Arthas ÂÆ¢Êà∑Á´ØÔºåArthas ÁöÑÊúçÂä°Âô®Á´ØÂπ∂Ê≤°ÊúâÂÖ≥Èó≠ÔºåÊâÄÂÅöÁöÑ‰øÆÊîπ‰πü‰∏ç‰ºöË¢´ÈáçÁΩÆ„ÄÇ</p>
<h4 id="11stopÂÖ≥Èó≠-arthas-ÊúçÂä°Á´ØÊâÄÊúâ-arthas-ÂÆ¢Êà∑Á´ØÂÖ®ÈÉ®ÈÄÄÂá∫">11.<code>stop</code>ÔºöÂÖ≥Èó≠ Arthas ÊúçÂä°Á´ØÔºåÊâÄÊúâ Arthas ÂÆ¢Êà∑Á´ØÂÖ®ÈÉ®ÈÄÄÂá∫„ÄÇ</h4>
<p>ÂÖ≥Èó≠ Arthas ÊúçÂä°Âô®‰πãÂâçÔºå‰ºöÈáçÁΩÆÊéâÊâÄÊúâÂÅöËøáÁöÑÂ¢ûÂº∫Á±ª„ÄÇ‰ΩÜÊòØÁî® redefine ÈáçÂä†ËΩΩÁöÑÁ±ªÂÜÖÂÆπ‰∏ç‰ºöË¢´ÈáçÁΩÆ„ÄÇ</p>
<hr>
<h3 id="Ê†∏ÂøÉÂëΩ‰ª§">Ê†∏ÂøÉÂëΩ‰ª§</h3>
<div class="table-wrapper"><table>
<thead>
<tr>
<th>Â∫èÂè∑</th>
<th>ÂëΩ‰ª§</th>
<th>ËØ¥Êòé</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td><code>monitor</code></td>
<td>ÁõëÊéßÊñπÊ≥ïÁöÑÊâßË°åÊÉÖÂÜµ</td>
</tr>
<tr>
<td>2</td>
<td><code>watch</code></td>
<td>ËßÇÂØüÊñπÊ≥ïË∞ÉÁî®ÊÉÖÂÜµ</td>
</tr>
<tr>
<td>3</td>
<td><code>trace</code></td>
<td>Ê†πÊçÆË∑ØÂæÑËøΩË∏™ÔºåÂπ∂ËÆ∞ÂΩïÊ∂àËÄóÊó∂Èó¥</td>
</tr>
<tr>
<td>4</td>
<td><code>stack</code></td>
<td>ËøΩË∏™ÊñπÊ≥ïË¢´Ë∞ÉÁî®ÁöÑË∞ÉÁî®Ë∑ØÂæÑ</td>
</tr>
<tr>
<td>5</td>
<td><code>tt</code></td>
<td>ËÆ∞ÂΩïÊñπÊ≥ïÊâßË°åÊï∞ÊçÆÁöÑÊó∂Á©∫ÈößÈÅì</td>
</tr>
<tr>
<td>6</td>
<td><code>dashboard</code></td>
<td>ÂΩìÂâçÁ≥ªÁªüÁöÑÂÆûÊó∂Êï∞ÊçÆÈù¢Êùø</td>
</tr>
<tr>
<td>7</td>
<td><code>ognl</code></td>
<td>ÊâßË°åognlË°®ËææÂºè</td>
</tr>
<tr>
<td>8</td>
<td><code>sc</code></td>
<td>Êü•Áúã JVM Â∑≤Âä†ËΩΩÁöÑÁ±ª‰ø°ÊÅØ</td>
</tr>
<tr>
<td>9</td>
<td><code>sm</code></td>
<td>Êü•Áúã JVM Â∑≤Âä†ËΩΩÁ±ªÁöÑÊñπÊ≥ï‰ø°ÊÅØ</td>
</tr>
</tbody>
</table></div>
<h4 id="1-monitorÁõëÊéßÊñπÊ≥ïÁöÑÊâßË°åÊÉÖÂÜµ">1. <code>monitor</code>ÔºöÁõëÊéßÊñπÊ≥ïÁöÑÊâßË°åÊÉÖÂÜµ</h4>
<h5 id="Â≠óÊÆµËØ¥Êòé">Â≠óÊÆµËØ¥Êòé</h5>
<div class="table-wrapper"><table>
<thead>
<tr>
<th style="text-align:left">ÁõëÊéßÈ°π</th>
<th style="text-align:left">ËØ¥Êòé</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">timestamp</td>
<td style="text-align:left">Êó∂Èó¥Êà≥</td>
</tr>
<tr>
<td style="text-align:left">class</td>
<td style="text-align:left">Java Á±ª</td>
</tr>
<tr>
<td style="text-align:left">method</td>
<td style="text-align:left">ÊñπÊ≥ïÔºàÊûÑÈÄ†ÊñπÊ≥ï„ÄÅÊôÆÈÄöÊñπÊ≥ïÔºâ</td>
</tr>
<tr>
<td style="text-align:left">total</td>
<td style="text-align:left">Ë∞ÉÁî®Ê¨°Êï∞</td>
</tr>
<tr>
<td style="text-align:left">success</td>
<td style="text-align:left">ÊàêÂäüÊ¨°Êï∞</td>
</tr>
<tr>
<td style="text-align:left">fail</td>
<td style="text-align:left">Â§±Ë¥•Ê¨°Êï∞</td>
</tr>
<tr>
<td style="text-align:left">rt</td>
<td style="text-align:left">Âπ≥Âùá RT</td>
</tr>
<tr>
<td style="text-align:left">fail-rate</td>
<td style="text-align:left">Â§±Ë¥•Áéá</td>
</tr>
</tbody>
</table></div>
<h5 id="ÂèÇÊï∞ËØ¥Êòé">ÂèÇÊï∞ËØ¥Êòé</h5>
<p>ÊñπÊ≥ïÊã•Êúâ‰∏Ä‰∏™ÂëΩÂêçÂèÇÊï∞ <code>[c:]</code>ÔºåÊÑèÊÄùÊòØÁªüËÆ°Âë®ÊúüÔºàcycle of outputÔºâÔºåÊã•Êúâ‰∏Ä‰∏™Êï¥ÂûãÁöÑÂèÇÊï∞ÂÄº</p>
<div class="table-wrapper"><table>
<thead>
<tr>
<th style="text-align:left">ÂèÇÊï∞ÂêçÁß∞</th>
<th>ÂèÇÊï∞ËØ¥Êòé</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><em>class-pattern</em></td>
<td>Á±ªÂêçË°®ËææÂºèÂåπÈÖç</td>
</tr>
<tr>
<td style="text-align:left"><em>method-pattern</em></td>
<td>ÊñπÊ≥ïÂêçË°®ËææÂºèÂåπÈÖç</td>
</tr>
<tr>
<td style="text-align:left"><em>condition-express</em></td>
<td>Êù°‰ª∂Ë°®ËææÂºè</td>
</tr>
<tr>
<td style="text-align:left">[E]</td>
<td>ÂºÄÂêØÊ≠£ÂàôË°®ËææÂºèÂåπÈÖçÔºåÈªòËÆ§‰∏∫ÈÄöÈÖçÁ¨¶ÂåπÈÖç</td>
</tr>
<tr>
<td style="text-align:left"><code>[c:]</code></td>
<td>ÁªüËÆ°Âë®ÊúüÔºåÈªòËÆ§ÂÄº‰∏∫ 120 Áßí</td>
</tr>
<tr>
<td style="text-align:left">[b]</td>
<td>Âú®<strong>ÊñπÊ≥ïË∞ÉÁî®‰πãÂâç</strong>ËÆ°ÁÆó condition-express</td>
</tr>
<tr>
<td style="text-align:left"><code>[m &lt;arg&gt;]</code></td>
<td>ÊåáÂÆö Class ÊúÄÂ§ßÂåπÈÖçÊï∞ÈáèÔºåÈªòËÆ§ÂÄº‰∏∫ 50„ÄÇÈïøÊ†ºÂºè‰∏∫<code>[maxMatch &lt;arg&gt;]</code>„ÄÇ</td>
</tr>
</tbody>
</table></div>
<h5 id="‰ΩøÁî®ÂèÇËÄÉ">‰ΩøÁî®ÂèÇËÄÉ</h5>
<p>ÁõëÊéß<code>com.ai.controller.TesttController</code>Á±ªÁöÑ<code>arthasTest</code>ÊñπÊ≥ïÔºåÂπ∂‰∏îÊØè5SÊõ¥Êñ∞‰∏ÄÊ¨°Áä∂ÊÄÅ„ÄÇ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">$ monitor com.ai.controller.TesttController arthasTest -c <span class="m">5</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ÈÄöËøáÊé•Âè£Ë∞ÉÁî®arthasTestÊñπÊ≥ïÂêéÔºåÁõëÊéßÂà∞Ë∞ÉÁî®ÊÉÖÂÜµÔºö</p>
<p><img src="http://www.rapdog.cn:7777/images/2023/12/07/image-20231207174601845.png"
	
	
	
	loading="lazy"
	
		alt="image-20231207174601845"
	
	
></p>
<h4 id="2watchËßÇÂØüÊñπÊ≥ïË∞ÉÁî®ÊÉÖÂÜµ">2.<code>watch</code>ÔºöËßÇÂØüÊñπÊ≥ïË∞ÉÁî®ÊÉÖÂÜµ</h4>
<blockquote>
<p>ËÆ©‰Ω†ËÉΩÊñπ‰æøÁöÑËßÇÂØüÂà∞ÊåáÂÆöÂáΩÊï∞ÁöÑË∞ÉÁî®ÊÉÖÂÜµ„ÄÇ</p>
<p>ËÉΩËßÇÂØüÂà∞ÁöÑËåÉÂõ¥‰∏∫Ôºö<code>ËøîÂõûÂÄº</code>„ÄÅ<code>ÊäõÂá∫ÂºÇÂ∏∏</code>„ÄÅ<code>ÂÖ•ÂèÇ</code>ÔºåÈÄöËøáÁºñÂÜô OGNL Ë°®ËææÂºèËøõË°åÂØπÂ∫îÂèòÈáèÁöÑÊü•Áúã„ÄÇ</p>
</blockquote>
<h5 id="ÂèÇÊï∞ËØ¥Êòé-1">ÂèÇÊï∞ËØ¥Êòé</h5>
<p>watch ÁöÑÂèÇÊï∞ÊØîËæÉÂ§öÔºå‰∏ªË¶ÅÊòØÂõ†‰∏∫ÂÆÉËÉΩÂú® 4 ‰∏™‰∏çÂêåÁöÑÂú∫ÊôØËßÇÂØüÂØπË±°</p>
<div class="table-wrapper"><table>
<thead>
<tr>
<th style="text-align:left">ÂèÇÊï∞ÂêçÁß∞</th>
<th style="text-align:left">ÂèÇÊï∞ËØ¥Êòé</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><em>class-pattern</em></td>
<td style="text-align:left">Á±ªÂêçË°®ËææÂºèÂåπÈÖç</td>
</tr>
<tr>
<td style="text-align:left"><em>method-pattern</em></td>
<td style="text-align:left">ÂáΩÊï∞ÂêçË°®ËææÂºèÂåπÈÖç</td>
</tr>
<tr>
<td style="text-align:left"><em>express</em></td>
<td style="text-align:left">ËßÇÂØüË°®ËææÂºèÔºåÈªòËÆ§ÂÄºÔºö<code>{params, target, returnObj}</code></td>
</tr>
<tr>
<td style="text-align:left"><em>condition-express</em></td>
<td style="text-align:left">Êù°‰ª∂Ë°®ËææÂºè</td>
</tr>
<tr>
<td style="text-align:left">[b]</td>
<td style="text-align:left">Âú®<strong>ÂáΩÊï∞Ë∞ÉÁî®‰πãÂâç</strong>ËßÇÂØü</td>
</tr>
<tr>
<td style="text-align:left">[e]</td>
<td style="text-align:left">Âú®<strong>ÂáΩÊï∞ÂºÇÂ∏∏‰πãÂêé</strong>ËßÇÂØü</td>
</tr>
<tr>
<td style="text-align:left">[s]</td>
<td style="text-align:left">Âú®<strong>ÂáΩÊï∞ËøîÂõû‰πãÂêé</strong>ËßÇÂØü</td>
</tr>
<tr>
<td style="text-align:left">[f]</td>
<td style="text-align:left">Âú®<strong>ÂáΩÊï∞ÁªìÊùü‰πãÂêé</strong>(Ê≠£Â∏∏ËøîÂõûÂíåÂºÇÂ∏∏ËøîÂõû)ËßÇÂØü</td>
</tr>
<tr>
<td style="text-align:left">[E]</td>
<td style="text-align:left">ÂºÄÂêØÊ≠£ÂàôË°®ËææÂºèÂåπÈÖçÔºåÈªòËÆ§‰∏∫ÈÄöÈÖçÁ¨¶ÂåπÈÖç</td>
</tr>
<tr>
<td style="text-align:left">[x:]</td>
<td style="text-align:left">ÊåáÂÆöËæìÂá∫ÁªìÊûúÁöÑÂ±ûÊÄßÈÅçÂéÜÊ∑±Â∫¶ÔºåÈªòËÆ§‰∏∫ 1ÔºåÊúÄÂ§ßÂÄºÊòØ 4</td>
</tr>
<tr>
<td style="text-align:left"><code>[m &lt;arg&gt;]</code></td>
<td style="text-align:left">ÊåáÂÆö Class ÊúÄÂ§ßÂåπÈÖçÊï∞ÈáèÔºåÈªòËÆ§ÂÄº‰∏∫ 50„ÄÇÈïøÊ†ºÂºè‰∏∫<code>[maxMatch &lt;arg&gt;]</code>„ÄÇ</td>
</tr>
</tbody>
</table></div>
<blockquote>
<p>ÊèêÁ§∫</p>
<p>ËßÇÂØüË°®ËææÂºèÔºåÈªòËÆ§ÂÄºÊòØ<code>{params, target, returnObj}</code></p>
</blockquote>
<h5 id="‰ΩøÁî®ÂèÇËÄÉ-1">‰ΩøÁî®ÂèÇËÄÉ</h5>
<p>ËßÇÂØü<code>com.ai.controller.TesttController</code>Á±ªÁöÑ<code>arthasTest</code>ÊñπÊ≥ïÁöÑÂÖ•ÂèÇÂíåËøîÂõûÂÄºÔºåÁªìÊûúÂêë‰∏ãËß£Êûê‰∏âÂ±Ç</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">$ watch com.ai.controller.TesttController arthasTest <span class="s2">&#34;{params, returnObj}&#34;</span> -x <span class="m">3</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Ë∞ÉÁî®ËØ•ÊñπÊ≥ïÁöÑÂÖ•ÂèÇ&amp;ËøîÂõûÂÄº</p>
<p><img src="http://www.rapdog.cn:7777/images/2023/12/07/image-20231207181317519.png"
	
	
	
	loading="lazy"
	
		alt="image-20231207181317519"
	
	
></p>
<p>ËßÇÂØüÂà∞ÊñπÊ≥ïÊâßË°åÁöÑÁªìÊûúÔºö</p>
<p><img src="http://www.rapdog.cn:7777/images/2023/12/07/image-20231207181300533.png"
	
	
	
	loading="lazy"
	
		alt="image-20231207181300533"
	
	
></p>
<h4 id="3traceÊ†πÊçÆË∑ØÂæÑËøΩË∏™Âπ∂ËÆ∞ÂΩïÊ∂àËÄóÊó∂Èó¥">3.<code>trace</code>ÔºöÊ†πÊçÆË∑ØÂæÑËøΩË∏™ÔºåÂπ∂ËÆ∞ÂΩïÊ∂àËÄóÊó∂Èó¥</h4>
<blockquote>
<p>ÂØπÊñπÊ≥ïÂÜÖÈÉ®Ë∞ÉÁî®Ë∑ØÂæÑËøõË°åËøΩË∏™ÔºåÂπ∂ËæìÂá∫ÊñπÊ≥ïË∑ØÂæÑ‰∏äÁöÑÊØè‰∏™ËäÇÁÇπ‰∏äËÄóÊó∂„ÄÇ</p>
</blockquote>
<h5 id="ÂèÇÊï∞ËØ¥Êòé-2"><strong>ÂèÇÊï∞ËØ¥Êòé</strong></h5>
<div class="table-wrapper"><table>
<thead>
<tr>
<th>ÂèÇÊï∞ÂêçÁß∞</th>
<th>ÂèÇÊï∞ËØ¥Êòé</th>
</tr>
</thead>
<tbody>
<tr>
<td><em>class-pattern</em></td>
<td>Á±ªÂêçË°®ËææÂåπÈÖç</td>
</tr>
<tr>
<td><em>method-pattern</em></td>
<td>ÊñπÊ≥ïÂêçË°®ËææÂºèÂåπÈÖç</td>
</tr>
<tr>
<td><em>condition-express</em></td>
<td>Êù°‰ª∂Ë°®ËææÂºèÔºå‰ΩøÁî®OGNLË°®ËææÂºè</td>
</tr>
<tr>
<td>[E]</td>
<td>ÂºÄÂêØÊ≠£ÂàôË°®ËææÂºèÂåπÈÖçÔºåÈªòËÆ§ÊòØÈÄöÈÖçÁ¨¶ÂåπÈÖç</td>
</tr>
<tr>
<td><code>[n:]</code></td>
<td>ËÆæÁΩÆÂëΩ‰ª§ÊâßË°åÊ¨°Êï∞</td>
</tr>
<tr>
<td><code>#cost</code></td>
<td>ÊñπÊ≥ïÊâßË°åËÄóÊó∂ÔºåÂçï‰ΩçÊòØÊØ´Áßí</td>
</tr>
</tbody>
</table></div>
<h5 id="‰ΩøÁî®ÂèÇËÄÉ-2">‰ΩøÁî®ÂèÇËÄÉ</h5>
<p>Â¢ûÂä†‰∏Ä‰∏™ÊñπÊ≥ï<code>timeConsumingMethod</code>ÔºåËØ•ÊñπÊ≥ïÊ®°ÊãüËÄóÊó∂Êìç‰ΩúÔºåÂπ∂Âú®<code>com.ai.controller.TesttController</code>Á±ªÁöÑ<code>arthasTest</code>ÊñπÊ≥ï‰∏≠Ë∞ÉÁî®ËØ•ÊñπÊ≥ï</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">timeConsumingMethod</span><span class="p">()</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">InterruptedException</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">Thread</span><span class="p">.</span><span class="na">sleep</span><span class="p">(</span><span class="n">1000</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>ËøΩË∏™<code>arthasTest</code>ÊñπÊ≥ï</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">$ trace com.ai.controller.TesttController arthasTest
</span></span></code></pre></td></tr></table>
</div>
</div><p>Ë∞ÉÁî®<code>arthasTest</code>ÊñπÊ≥ïÔºåÊü•ÁúãtraceËæìÂá∫ÁªìÊûúÔºö</p>
<p><img src="http://www.rapdog.cn:7777/images/2023/12/12/image-20231212182512995.png"
	
	
	
	loading="lazy"
	
		alt="image-20231212182512995"
	
	
></p>
<p>ÂèØ‰ª•ÁúãÂà∞ÊñπÊ≥ïÁöÑÂÜÖÈÉ®Ë∞ÉÁî®Ë∑ØÂæÑ‰ª•ÂèäËÄóÊó∂ÈÉΩÊ∏ÖÊô∞ÁöÑÂ±ïÁ§∫Âá∫Êù•</p>
<blockquote>
<p>ÊèêÁ§∫Ôºö<code>java.*</code> ‰∏ãÁöÑÂáΩÊï∞Ë∞ÉÁî®ÈªòËÆ§‰ºöÂøΩÁï•Êéâ„ÄÇÈÄöËøáÂ¢ûÂä†<code>--skipJDKMethod false</code>ÂèÇÊï∞ÂèØ‰ª•ÊâìÂç∞Âá∫Êù•„ÄÇ</p>
</blockquote>
<h4 id="4stackËæìÂá∫ÂΩìÂâçÊñπÊ≥ïË¢´Ë∞ÉÁî®ÁöÑË∞ÉÁî®Ë∑ØÂæÑ">4.<code>stack</code>ÔºöËæìÂá∫ÂΩìÂâçÊñπÊ≥ïË¢´Ë∞ÉÁî®ÁöÑË∞ÉÁî®Ë∑ØÂæÑ</h4>
<blockquote>
<p>ËæìÂá∫ÂΩìÂâçÊñπÊ≥ïË¢´Ë∞ÉÁî®ÁöÑË∞ÉÁî®Ë∑ØÂæÑ
ÂæàÂ§öÊó∂ÂÄôÊàë‰ª¨ÈÉΩÁü•ÈÅì‰∏Ä‰∏™ÊñπÊ≥ïË¢´ÊâßË°åÔºå‰ΩÜËøô‰∏™ÊñπÊ≥ïË¢´ÊâßË°åÁöÑË∑ØÂæÑÈùûÂ∏∏Â§öÔºåÊàñËÄÖ‰Ω†Ê†πÊú¨Â∞±‰∏çÁü•ÈÅìËøô‰∏™ÊñπÊ≥ïÊòØ‰ªéÈÇ£ÈáåË¢´ÊâßË°å‰∫ÜÔºåÊ≠§Êó∂‰Ω†ÈúÄË¶ÅÁöÑÊòØ stack ÂëΩ‰ª§„ÄÇ</p>
</blockquote>
<h5 id="ÂèÇÊï∞ËØ¥Êòé-3">ÂèÇÊï∞ËØ¥Êòé</h5>
<div class="table-wrapper"><table>
<thead>
<tr>
<th>ÂèÇÊï∞ÂêçÁß∞</th>
<th>ÂèÇÊï∞ËØ¥Êòé</th>
</tr>
</thead>
<tbody>
<tr>
<td><em>class-pattern</em></td>
<td>Á±ªÂêçË°®ËææÂºèÂåπÈÖç</td>
</tr>
<tr>
<td><em>method-pattern</em></td>
<td>ÊñπÊ≥ïÂêçË°®ËææÂºèÂåπÈÖç</td>
</tr>
<tr>
<td><em>condition-express</em></td>
<td>Êù°‰ª∂Ë°®ËææÂºèÔºåOGNL</td>
</tr>
<tr>
<td>[E]</td>
<td>ÂºÄÂêØÊ≠£ÂàôË°®ËææÂºèÂåπÈÖçÔºåÈªòËÆ§‰∏∫ÈÄöÈÖçÁ¨¶ÂåπÈÖç</td>
</tr>
<tr>
<td><code>[n:]</code></td>
<td>ÊâßË°åÊ¨°Êï∞ÈôêÂà∂</td>
</tr>
</tbody>
</table></div>
<h5 id="‰ΩøÁî®ÂèÇËÄÉ-3">‰ΩøÁî®ÂèÇËÄÉ</h5>
<p>ËßÇÂØü<code>com.ai.controller.TesttController</code>Á±ªÁöÑ<code>timeConsumingMethod</code>Ë∞ÉÁî®Ë∑ØÂæÑ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">$ stack com.ai.controller.TesttController timeConsumingMethod
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="http://www.rapdog.cn:7777/images/2023/12/14/image-20231214152854689.png"
	
	
	
	loading="lazy"
	
		alt="image-20231214152854689"
	
	
></p>
<p>ÂèØ‰ª•ÁúãÂà∞ËØ•ÊñπÊ≥ïÁöÑË∞ÉÁî®Ê†àË¢´ÊâìÂç∞Âá∫Êù•</p>
<h4 id="5ttËÆ∞ÂΩïÊñπÊ≥ïÊâßË°åÊï∞ÊçÆÁöÑÊó∂Á©∫ÈößÈÅì">5.<code>tt</code>ÔºöËÆ∞ÂΩïÊñπÊ≥ïÊâßË°åÊï∞ÊçÆÁöÑÊó∂Á©∫ÈößÈÅì</h4>
<blockquote>
<p>time-tunnel ÊñπÊ≥ïÊâßË°åÊï∞ÊçÆÁöÑÊó∂Á©∫ÈößÈÅìÔºå</p>
<p>ËÆ∞ÂΩï‰∏ãÊåáÂÆöÊñπÊ≥ïÊØèÊ¨°Ë∞ÉÁî®ÁöÑÂÖ•ÂèÇÂíåËøîÂõû‰ø°ÊÅØÔºåÂπ∂ËÉΩÂØπËøô‰∫õ‰∏çÂêåÁöÑÊó∂Èó¥‰∏ãË∞ÉÁî®ËøõË°åËßÇÊµã</p>
<p>watch ËôΩÁÑ∂ÂæàÊñπ‰æøÂíåÁÅµÊ¥ªÔºå‰ΩÜÈúÄË¶ÅÊèêÂâçÊÉ≥Ê∏ÖÊ•öËßÇÂØüË°®ËææÂºèÁöÑÊãºÂÜôÔºåËøôÂØπÊéíÊü•ÈóÆÈ¢òËÄåË®ÄË¶ÅÊ±ÇÂ§™È´òÔºåÂõ†‰∏∫ÂæàÂ§öÊó∂ÂÄôÊàë‰ª¨Âπ∂‰∏çÊ∏ÖÊ•öÈóÆÈ¢òÂá∫Ëá™‰∫é‰ΩïÊñπÔºåÂè™ËÉΩÈù†Ëõõ‰∏ùÈ©¨ËøπËøõË°åÁåúÊµã„ÄÇËøô‰∏™Êó∂ÂÄôÂ¶ÇÊûúËÉΩËÆ∞ÂΩï‰∏ãÂΩìÊó∂ÊñπÊ≥ïË∞ÉÁî®ÁöÑÊâÄÊúâÂÖ•ÂèÇÂíåËøîÂõûÂÄº„ÄÅÊäõÂá∫ÁöÑÂºÇÂ∏∏‰ºöÂØπÊï¥‰∏™ÈóÆÈ¢òÁöÑÊÄùËÄÉ‰∏éÂà§Êñ≠ÈùûÂ∏∏ÊúâÂ∏ÆÂä©„ÄÇ‰∫éÊòØ‰πéÔºåTimeTunnel ÂëΩ‰ª§Â∞±ËØûÁîü‰∫Ü„ÄÇ</p>
<p>‰ΩúÁî®ÔºöËÆ∞ÂΩïÊåáÂÆöÊñπÊ≥ïÊØèÊ¨°Ë∞ÉÁî®ÁöÑÂÖ•ÂèÇÂíåËøîÂõûÂÄºÔºåÂπ∂ÂêéÊúüËøòÂèØ‰ª•ÂØπËøô‰∫õ‰ø°ÊÅØËøõË°åËßÇÊµã</p>
</blockquote>
<h5 id="Â≠óÊÆµËØ¥Êòé-1">Â≠óÊÆµËØ¥Êòé</h5>
<div class="table-wrapper"><table>
<thead>
<tr>
<th>Ë°®Ê†ºÂ≠óÊÆµ</th>
<th>Â≠óÊÆµËß£Èáä</th>
</tr>
</thead>
<tbody>
<tr>
<td>INDEX</td>
<td>Êó∂Èó¥ÁâáÊÆµËÆ∞ÂΩïÁºñÂè∑ÔºåÊØè‰∏Ä‰∏™ÁºñÂè∑‰ª£Ë°®ÁùÄ‰∏ÄÊ¨°Ë∞ÉÁî®ÔºåÂêéÁª≠ tt ËøòÊúâÂæàÂ§öÂëΩ‰ª§ÈÉΩÊòØÂü∫‰∫éÊ≠§ÁºñÂè∑ÊåáÂÆöËÆ∞ÂΩïÊìç‰ΩúÔºåÈùûÂ∏∏ÈáçË¶Å„ÄÇ</td>
</tr>
<tr>
<td>TIMESTAMP</td>
<td>ÊñπÊ≥ïÊâßË°åÁöÑÊú¨Êú∫Êó∂Èó¥ÔºåËÆ∞ÂΩï‰∫ÜËøô‰∏™Êó∂Èó¥ÁâáÊÆµÊâÄÂèëÁîüÁöÑÊú¨Êú∫Êó∂Èó¥</td>
</tr>
<tr>
<td>COST(ms)</td>
<td>ÊñπÊ≥ïÊâßË°åÁöÑËÄóÊó∂</td>
</tr>
<tr>
<td>IS-RET</td>
<td>ÊñπÊ≥ïÊòØÂê¶‰ª•Ê≠£Â∏∏ËøîÂõûÁöÑÂΩ¢ÂºèÁªìÊùü</td>
</tr>
<tr>
<td>IS-EXP</td>
<td>ÊñπÊ≥ïÊòØÂê¶‰ª•ÊäõÂºÇÂ∏∏ÁöÑÂΩ¢ÂºèÁªìÊùü</td>
</tr>
<tr>
<td>OBJECT</td>
<td>ÊâßË°åÂØπË±°ÁöÑ<code>hashCode()</code>ÔºåÊ≥®ÊÑèÔºåÊõæÁªèÊúâ‰∫∫ËØØËÆ§‰∏∫ÊòØÂØπË±°Âú® JVM ‰∏≠ÁöÑÂÜÖÂ≠òÂú∞ÂùÄÔºå‰ΩÜÂæàÈÅóÊÜæ‰ªñ‰∏çÊòØ„ÄÇ‰ΩÜ‰ªñËÉΩÂ∏ÆÂä©‰Ω†ÁÆÄÂçïÁöÑÊ†áËÆ∞ÂΩìÂâçÊâßË°åÊñπÊ≥ïÁöÑÁ±ªÂÆû‰Ωì</td>
</tr>
<tr>
<td>CLASS</td>
<td>ÊâßË°åÁöÑÁ±ªÂêç</td>
</tr>
<tr>
<td>METHOD</td>
<td>ÊâßË°åÁöÑÊñπÊ≥ïÂêç</td>
</tr>
</tbody>
</table></div>
<h5 id="ÂèÇÊï∞ËØ¥Êòé-4">ÂèÇÊï∞ËØ¥Êòé</h5>
<div class="table-wrapper"><table>
<thead>
<tr>
<th>ttÁöÑÂèÇÊï∞</th>
<th>ËØ¥Êòé</th>
</tr>
</thead>
<tbody>
<tr>
<td>-t</td>
<td>ËÆ∞ÂΩïÊüê‰∏™ÊñπÊ≥ïÂú®‰∏Ä‰∏™Êó∂Èó¥ÊÆµ‰∏≠ÁöÑË∞ÉÁî®</td>
</tr>
<tr>
<td>-l</td>
<td>ÊòæÁ§∫ÊâÄÊúâÂ∑≤ÁªèËÆ∞ÂΩïÁöÑÂàóË°®</td>
</tr>
<tr>
<td>-n Ê¨°Êï∞</td>
<td>Âè™ËÆ∞ÂΩïÂ§öÂ∞ëÊ¨°</td>
</tr>
<tr>
<td>-s Ë°®ËææÂºè</td>
<td>ÊêúÁ¥¢Ë°®ËææÂºè</td>
</tr>
<tr>
<td>-i Á¥¢ÂºïÂè∑</td>
<td>Êü•ÁúãÊåáÂÆöÁ¥¢ÂºïÂè∑ÁöÑËØ¶ÁªÜË∞ÉÁî®‰ø°ÊÅØ</td>
</tr>
<tr>
<td>-p</td>
<td>ÈáçÊñ∞Ë∞ÉÁî®ÔºöÊåáÂÆöÁöÑÁ¥¢ÂºïÂè∑Êó∂Èó¥Á¢éÁâá</td>
</tr>
</tbody>
</table></div>
<h5 id="‰ΩøÁî®ÂèÇËÄÉ-4">‰ΩøÁî®ÂèÇËÄÉ</h5>
<p>ËÆ∞ÂΩïÊüê‰∏™ÊñπÊ≥ïÁöÑË∞ÉÁî®Êó∂Á©∫ÈößÈÅì</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">$ tt -t com.ai.controller.TesttController arthasTest
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="http://www.rapdog.cn:7777/images/2023/12/14/image-20231214165348778.png"
	
	
	
	loading="lazy"
	
		alt="image-20231214165348778"
	
	
></p>
<p>Êü•Áúãindex‰∏∫1000ÁöÑË∞ÉÁî®ËØ¶ÊÉÖ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">$ tt -i <span class="m">1000</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="http://www.rapdog.cn:7777/images/2023/12/25/image-20231225113523019.png"
	
	
	
	loading="lazy"
	
		alt="image-20231225113523019"
	
	
></p>
<p>Â§çÁé∞index‰∏∫1000ÁöÑË∞ÉÁî®Ôºå‰ΩøÁî®ÂΩìÊó∂ÁöÑÂÖ•ÂèÇÂÜçÊ¨°Ë∞ÉÁî®ÊñπÊ≥ï</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">$ tt -i <span class="m">1000</span> -p
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="http://www.rapdog.cn:7777/images/2023/12/25/image-20231225113714705.png"
	
	
	
	loading="lazy"
	
		alt="image-20231225113714705"
	
	
></p>
<h4 id="6dashboardÂΩìÂâçÁ≥ªÁªüÁöÑÂÆûÊó∂Êï∞ÊçÆÈù¢Êùø">6.<code>dashboard</code>ÔºöÂΩìÂâçÁ≥ªÁªüÁöÑÂÆûÊó∂Êï∞ÊçÆÈù¢Êùø</h4>
<p>ËæìÂÖ• <code>q</code> ÊàñËÄÖ <code>Ctrl+C</code> ÂèØ‰ª•ÈÄÄÂá∫dashboardÂëΩ‰ª§</p>
<h5 id="Â≠óÊÆµËØ¥Êòé-2">Â≠óÊÆµËØ¥Êòé</h5>
<div class="table-wrapper"><table>
<thead>
<tr>
<th>Ë°®Ê†ºÂ≠óÊÆµ</th>
<th>Â≠óÊÆµËß£Èáä</th>
</tr>
</thead>
<tbody>
<tr>
<td>ID</td>
<td>Java Á∫ßÂà´ÁöÑÁ∫øÁ®ã IDÔºåÊ≥®ÊÑèËøô‰∏™ ID ‰∏çËÉΩË∑ü jstack ‰∏≠ÁöÑ nativeID ‰∏Ä‰∏ÄÂØπÂ∫î„ÄÇ</td>
</tr>
<tr>
<td>NAME</td>
<td>Á∫øÁ®ãÂêç</td>
</tr>
<tr>
<td>GROUP</td>
<td>Á∫øÁ®ãÁªÑÂêç</td>
</tr>
<tr>
<td>PRIORITY</td>
<td>Á∫øÁ®ã‰ºòÂÖàÁ∫ß, 1~10 ‰πãÈó¥ÁöÑÊï∞Â≠óÔºåË∂äÂ§ßË°®Á§∫‰ºòÂÖàÁ∫ßË∂äÈ´ò</td>
</tr>
<tr>
<td>STATE</td>
<td>Á∫øÁ®ãÁöÑÁä∂ÊÄÅ</td>
</tr>
<tr>
<td>CPU%</td>
<td>Á∫øÁ®ãÁöÑ cpu ‰ΩøÁî®Áéá„ÄÇÊØîÂ¶ÇÈááÊ†∑Èó¥Èöî 1000msÔºåÊüê‰∏™Á∫øÁ®ãÁöÑÂ¢ûÈáè cpu Êó∂Èó¥‰∏∫ 100msÔºåÂàô cpu ‰ΩøÁî®Áéá=100/1000=10%</td>
</tr>
<tr>
<td>DELTA_TIME</td>
<td>‰∏äÊ¨°ÈááÊ†∑‰πãÂêéÁ∫øÁ®ãËøêË°åÂ¢ûÈáè CPU Êó∂Èó¥ÔºåÊï∞ÊçÆÊ†ºÂºè‰∏∫<code>Áßí</code></td>
</tr>
<tr>
<td>TIME</td>
<td>Á∫øÁ®ãËøêË°åÊÄª CPU Êó∂Èó¥ÔºåÊï∞ÊçÆÊ†ºÂºè‰∏∫<code>ÂàÜ:Áßí</code></td>
</tr>
<tr>
<td>INTERRUPTED</td>
<td>Á∫øÁ®ãÂΩìÂâçÁöÑ‰∏≠Êñ≠‰ΩçÁä∂ÊÄÅ</td>
</tr>
<tr>
<td>DAEMON</td>
<td>ÊòØÂê¶ÊòØ daemon Á∫øÁ®ã</td>
</tr>
</tbody>
</table></div>
<h5 id="ÂèÇÊï∞ËØ¥Êòé-5">ÂèÇÊï∞ËØ¥Êòé</h5>
<div class="table-wrapper"><table>
<thead>
<tr>
<th style="text-align:left">ÂèÇÊï∞ÂêçÁß∞</th>
<th style="text-align:left">ÂèÇÊï∞ËØ¥Êòé</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">[i:]</td>
<td style="text-align:left">Âà∑Êñ∞ÂÆûÊó∂Êï∞ÊçÆÁöÑÊó∂Èó¥Èó¥Èöî (ms)ÔºåÈªòËÆ§ 5000ms</td>
</tr>
<tr>
<td style="text-align:left">[n:]</td>
<td style="text-align:left">Âà∑Êñ∞ÂÆûÊó∂Êï∞ÊçÆÁöÑÊ¨°Êï∞</td>
</tr>
</tbody>
</table></div>
<h5 id="‰ΩøÁî®ÂèÇËÄÉ-5">‰ΩøÁî®ÂèÇËÄÉ</h5>
<p>Êü•ÁúãÂÆûÊó∂Êï∞ÊçÆÈù¢ÊùøÔºåÊØè10ÁßíÂà∑Êñ∞‰∏ÄÊ¨°ÔºåÂà∑Êñ∞3Ê¨°ÂêéÈÄÄÂá∫Èù¢Êùø</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">$ dashboard -i <span class="m">10000</span> -n <span class="m">3</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="http://www.rapdog.cn:7777/images/2023/12/25/image-20231225150258683.png"
	
	
	
	loading="lazy"
	
		alt="image-20231225150258683"
	
	
></p>
<h4 id="7ognlÊâßË°åognlË°®ËææÂºè">7.<code>ognl</code>ÔºöÊâßË°åognlË°®ËææÂºè</h4>
<h5 id="ÂèÇÊï∞ËØ¥Êòé-6">ÂèÇÊï∞ËØ¥Êòé</h5>
<div class="table-wrapper"><table>
<thead>
<tr>
<th style="text-align:left">ÂèÇÊï∞ÂêçÁß∞</th>
<th style="text-align:left">ÂèÇÊï∞ËØ¥Êòé</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><em>express</em></td>
<td style="text-align:left">ÊâßË°åÁöÑË°®ËææÂºè</td>
</tr>
<tr>
<td style="text-align:left"><code>[c:]</code></td>
<td style="text-align:left">ÊâßË°åË°®ËææÂºèÁöÑ ClassLoader ÁöÑ hashcodeÔºåÈªòËÆ§ÂÄºÊòØ SystemClassLoader</td>
</tr>
<tr>
<td style="text-align:left"><code>[classLoaderClass:]</code></td>
<td style="text-align:left">ÊåáÂÆöÊâßË°åË°®ËææÂºèÁöÑ ClassLoader ÁöÑ class name</td>
</tr>
<tr>
<td style="text-align:left">[x]</td>
<td style="text-align:left">ÁªìÊûúÂØπË±°ÁöÑÂ±ïÂºÄÂ±ÇÊ¨°ÔºåÈªòËÆ§ÂÄº 1</td>
</tr>
</tbody>
</table></div>
<h5 id="‰ΩøÁî®ÂèÇËÄÉ-6">‰ΩøÁî®ÂèÇËÄÉ</h5>
<ul>
<li>
<p>Ë∞ÉÁî®ÈùôÊÄÅÊñπÊ≥ï</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">$ ognl <span class="s1">&#39;@java.lang.System@out.println(&#34;hello&#34;)&#39;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="http://www.rapdog.cn:7777/images/2023/12/25/image-20231225153829398.png"
	
	
	
	loading="lazy"
	
		alt="image-20231225153829398"
	
	
></p>
</li>
<li>
<p>Êü•ÁúãÈùôÊÄÅÂ±ûÊÄß</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">$ ognl <span class="s1">&#39;@com.ai.controller.TesttController@IP_UNKNOWN&#39;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="http://www.rapdog.cn:7777/images/2023/12/25/image-20231225165011696.png"
	
	
	
	loading="lazy"
	
		alt="image-20231225165011696"
	
	
></p>
</li>
<li>
<p>Ëé∑ÂèñÊüêÁ±ªÁöÑLoggerÔºåÂπ∂‰ΩøÁî®ËØ•LoggerÊâìÂç∞Êó•Âøó</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">$ ognl <span class="s1">&#39;#logger=@com.ai.controller.TesttController@logger,#logger.info(&#34;hello world!!&#34;)&#39;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="http://www.rapdog.cn:7777/images/2023/12/25/image-20231225162947492.png"
	
	
	
	loading="lazy"
	
		alt="image-20231225162947492"
	
	
></p>
</li>
<li>
<p>Âà©Áî®hutoolÁöÑspringÂ∑•ÂÖ∑Á±ªËé∑Âèñspring bean, ÊûÑÂª∫‰∏Ä‰∏™map‰Ωú‰∏∫ÂÖ•ÂèÇÂπ∂Ë∞ÉÁî®beanÁöÑÊñπÊ≥ï</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">$ ognl <span class="s1">&#39;#req=#{&#34;a&#34;:&#34;value&#34;,&#34;b&#34;:&#34;value&#34;}, #bean=@cn.hutool.extra.spring.SpringUtil@getBean(&#34;testtController&#34;), #bean.arthasTest(#req)&#39;</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ul>
<h5 id="ognlË°®ËææÂºèÂ∏∏Áî®ËØ≠Ê≥ï">ognlË°®ËææÂºèÂ∏∏Áî®ËØ≠Ê≥ï</h5>
<ul>
<li>
<p>Ë∞ÉÁî®ÈùôÊÄÅÊñπÊ≥ï</p>
<p>@ÂÖ®Ë∑ØÂæÑÁ±ªÁõÆ@ÈùôÊÄÅÊñπÊ≥ïÂêç(&ldquo;ÂèÇÊï∞&rdquo;)</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">z$ ognl <span class="s1">&#39;@java.lang.System@out.println(&#34;hello&#34;)&#39;</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>Ë∞ÉÁî®ÈùôÊÄÅÂ±ûÊÄß</p>
<p>@ÂÖ®Ë∑ØÂæÑÁ±ªÁõÆ@ÈùôÊÄÅÂ±ûÊÄßÂêç</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">$ ognl <span class="s1">&#39;@cn.rapdog.OgnlTest@MAIL_TEMPLATE&#39;</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>ËµãÂÄº‰∏¥Êó∂ÂèòÈáè</p>
<p>#‰∏¥Êó∂ÂèòÈáèÂêç=ognlË°®ËææÂºè</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">$ ognl <span class="s1">&#39;#a=@cn.rapdog.OgnlTest@MAIL_TEMPLATE&#39;</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>Â∞ÜÊñπÊ≥ïAÁöÑËøîÂõû‰Ωú‰∏∫ÊñπÊ≥ïBÁöÑÂÖ•ÂèÇ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">$ ognl <span class="s1">&#39;#a=@cn.rapdog.OgnlTest@methodA(), @cn.rapdog.OgnlTest@methodB(#a)&#39;</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>ÊâßË°åÂ§öË°åË°®ËææÂºèÔºåËµãÂÄºÁªô‰∏¥Êó∂ÂèòÈáèÔºåËøîÂõû‰∏Ä‰∏™List</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">$ ognl <span class="s1">&#39;#value1=@cn.rapdog.OgnlTest@methodA(), #value2=@cn.rapdog.OgnlTest@methodB(#value1), {#value1,#value2}&#39;</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>ÊñπÊ≥ïÂÖ•ÂèÇÊòØÁÆÄÂçïÁ±ªÂûãÁöÑÂàóË°®</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">$ ognl <span class="s1">&#39;@cn.rapdog.OgnlTest@printList({&#34;a&#34;,&#34;b&#34;})&#39;</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>ÊñπÊ≥ïÂÖ•ÂèÇÊòØ‰∏Ä‰∏™ÂØπË±°</p>
<p>ÂÖàÂàõÂª∫‰∏Ä‰∏™ÂØπË±°ÔºåÂÜçÂ∞ÜËøô‰∏™ÂØπË±°‰Ωú‰∏∫ÊñπÊ≥ïÂÖ•ÂèÇ‰º†ÂÖ•ÊñπÊ≥ï</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">$ ognl <span class="s1">&#39;#obj=new cn.rapdog.User(&#34;rapdog&#34;,18,true), @cn.rapdog.OgnlTest@printObject(#obj)&#39;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Â¶ÇÊûúÂè™ËÉΩ‰ΩøÁî®ÂØπË±°ÁöÑÊó†ÂèÇÊûÑÈÄ†ÊñπÊ≥ïÔºåÂèØ‰ª•Ë∞ÉÁî®ÂØπË±°ÁöÑsetÊñπÊ≥ïËÆæÁΩÆÂ±ûÊÄß</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">$ ognl <span class="s1">&#39;#obj=new cn.rapdog.User(), #obj.setName(&#34;rapdog&#34;), #obj.setAge(18), #obj.setGender(true), @cn.rapdog.OgnlTest@printObject(#obj)&#39;</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>ÊñπÊ≥ïÂÖ•ÂèÇÊòØ‰∏Ä‰∏™map</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">$ ognl <span class="s1">&#39;#inputmap=#{&#34;key1&#34;:&#34;value1&#34;,&#34;key2&#34;:&#34;value2&#34;}, @cn.rapdog.OgnlTest@printObject(#inputmap)&#39;</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>ËÆøÈóÆÂØπË±°ÁöÑÂ±ûÊÄß</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">$ ognl <span class="s1">&#39;#user=new cn.rapdog.User(&#34;rapdog&#34;,18,true), #user.name&#39;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ÊàñË∞ÉÁî®ÂØπË±°ÁöÑgetÊñπÊ≥ï</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">$ ognl <span class="s1">&#39;#user=new cn.rapdog.User(&#34;rapdog&#34;,18,true), #user.getAge()&#39;</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>ÈÄöËøá‰∏ãÊ†áËÆøÈóÆÊï∞ÁªÑÁöÑÂÖÉÁ¥†</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">$ ognl <span class="s1">&#39;{&#34;a&#34;,&#34;b&#34;}[0]&#39;</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>ÈÄöËøákeyËÆøÈóÆMapÁöÑvalue</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">$ ognl <span class="s1">&#39;#{&#34;key1&#34;:&#34;value1&#34;,&#34;key2&#34;:&#34;value2&#34;}[&#34;key1&#34;]&#39;</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ul>
<h4 id="8scÊü•Áúã-jvm-Â∑≤Âä†ËΩΩÁöÑÁ±ª‰ø°ÊÅØ">8.<code>sc</code>ÔºöÊü•Áúã JVM Â∑≤Âä†ËΩΩÁöÑÁ±ª‰ø°ÊÅØ</h4>
<blockquote>
<p>‚ÄúSearch-Class‚Äù ÁöÑÁÆÄÂÜôÔºåËøô‰∏™ÂëΩ‰ª§ËÉΩÊêúÁ¥¢Âá∫ÊâÄÊúâÂ∑≤ÁªèÂä†ËΩΩÂà∞ JVM ‰∏≠ÁöÑ Class ‰ø°ÊÅØÔºåËøô‰∏™ÂëΩ‰ª§ÊîØÊåÅÁöÑÂèÇÊï∞Êúâ <code>[d]</code>„ÄÅ<code>[E]</code>„ÄÅ<code>[f]</code> Âíå <code>[x:]</code>„ÄÇ</p>
<p>sc ÈªòËÆ§ÂºÄÂêØ‰∫ÜÂ≠êÁ±ªÂåπÈÖçÂäüËÉΩÔºå‰πüÂ∞±ÊòØËØ¥ÊâÄÊúâÂΩìÂâçÁ±ªÁöÑÂ≠êÁ±ª‰πü‰ºöË¢´ÊêúÁ¥¢Âá∫Êù•ÔºåÊÉ≥Ë¶ÅÁ≤æÁ°ÆÁöÑÂåπÈÖçÔºåËØ∑ÊâìÂºÄ<code>options disable-sub-class true</code>ÂºÄÂÖ≥</p>
</blockquote>
<h5 id="ÂèÇÊï∞ËØ¥Êòé-7">ÂèÇÊï∞ËØ¥Êòé</h5>
<div class="table-wrapper"><table>
<thead>
<tr>
<th style="text-align:left">ÂèÇÊï∞ÂêçÁß∞</th>
<th style="text-align:left">ÂèÇÊï∞ËØ¥Êòé</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><em>class-pattern</em></td>
<td style="text-align:left">Á±ªÂêçË°®ËææÂºèÂåπÈÖç</td>
</tr>
<tr>
<td style="text-align:left"><em>method-pattern</em></td>
<td style="text-align:left">ÊñπÊ≥ïÂêçË°®ËææÂºèÂåπÈÖç</td>
</tr>
<tr>
<td style="text-align:left">[d]</td>
<td style="text-align:left">ËæìÂá∫ÂΩìÂâçÁ±ªÁöÑËØ¶ÁªÜ‰ø°ÊÅØÔºåÂåÖÊã¨Ëøô‰∏™Á±ªÊâÄÂä†ËΩΩÁöÑÂéüÂßãÊñá‰ª∂Êù•Ê∫ê„ÄÅÁ±ªÁöÑÂ£∞Êòé„ÄÅÂä†ËΩΩÁöÑ ClassLoader Á≠âËØ¶ÁªÜ‰ø°ÊÅØ„ÄÇ Â¶ÇÊûú‰∏Ä‰∏™Á±ªË¢´Â§ö‰∏™ ClassLoader ÊâÄÂä†ËΩΩÔºåÂàô‰ºöÂá∫Áé∞Â§öÊ¨°</td>
</tr>
<tr>
<td style="text-align:left">[E]</td>
<td style="text-align:left">ÂºÄÂêØÊ≠£ÂàôË°®ËææÂºèÂåπÈÖçÔºåÈªòËÆ§‰∏∫ÈÄöÈÖçÁ¨¶ÂåπÈÖç</td>
</tr>
<tr>
<td style="text-align:left">[f]</td>
<td style="text-align:left">ËæìÂá∫ÂΩìÂâçÁ±ªÁöÑÊàêÂëòÂèòÈáè‰ø°ÊÅØÔºàÈúÄË¶ÅÈÖçÂêàÂèÇÊï∞-d ‰∏ÄËµ∑‰ΩøÁî®Ôºâ</td>
</tr>
<tr>
<td style="text-align:left">[x:]</td>
<td style="text-align:left">ÊåáÂÆöËæìÂá∫ÈùôÊÄÅÂèòÈáèÊó∂Â±ûÊÄßÁöÑÈÅçÂéÜÊ∑±Â∫¶ÔºåÈªòËÆ§‰∏∫ 0ÔºåÂç≥Áõ¥Êé•‰ΩøÁî® <code>toString</code> ËæìÂá∫</td>
</tr>
<tr>
<td style="text-align:left"><code>[c:]</code></td>
<td style="text-align:left">ÊåáÂÆö class ÁöÑ ClassLoader ÁöÑ hashcode</td>
</tr>
<tr>
<td style="text-align:left"><code>[classLoaderClass:]</code></td>
<td style="text-align:left">ÊåáÂÆöÊâßË°åË°®ËææÂºèÁöÑ ClassLoader ÁöÑ class name</td>
</tr>
<tr>
<td style="text-align:left"><code>[n:]</code></td>
<td style="text-align:left">ÂÖ∑ÊúâËØ¶ÁªÜ‰ø°ÊÅØÁöÑÂåπÈÖçÁ±ªÁöÑÊúÄÂ§ßÊï∞ÈáèÔºàÈªòËÆ§‰∏∫ 100Ôºâ</td>
</tr>
</tbody>
</table></div>
<h5 id="‰ΩøÁî®ÂèÇËÄÉ-7">‰ΩøÁî®ÂèÇËÄÉ</h5>
<p>Êü•ÁúãÊüêÁ±ªÁöÑËØ¶ÁªÜ‰ø°ÊÅØ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">$ sc -d cn.rapdog.OgnlTest
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="http://www.rapdog.cn:7777/images/2023/12/25/image-20231225183736692.png"
	
	
	
	loading="lazy"
	
		alt="image-20231225183736692"
	
	
></p>
<p>Êü•ÁúãÊüêÁ±ªÁöÑËØ¶ÁªÜ‰ø°ÊÅØ&amp;ÊàêÂëòÂèòÈáè‰ø°ÊÅØ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">$ sc -d -f cn.rapdog.OgnlTest
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="http://www.rapdog.cn:7777/images/2023/12/25/image-20231225183830888.png"
	
	
	
	loading="lazy"
	
		alt="image-20231225183830888"
	
	
></p>
<h4 id="9smÊü•ÁúãÂ∑≤Âä†ËΩΩÁ±ªÁöÑÊñπÊ≥ï‰ø°ÊÅØ">9.<code>sm</code>ÔºöÊü•ÁúãÂ∑≤Âä†ËΩΩÁ±ªÁöÑÊñπÊ≥ï‰ø°ÊÅØ</h4>
<p>Êü•ÁúãÊñπÊ≥ïÂàóË°®</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">$ sm cn.rapdog.OgnlTest
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="http://www.rapdog.cn:7777/images/2023/12/26/image-20231226110513326.png"
	
	
	
	loading="lazy"
	
		alt="image-20231226110513326"
	
	
></p>
<p>Êü•ÁúãÊñπÊ≥ïËØ¶ÁªÜ‰ø°ÊÅØ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">$ -d sm cn.rapdog.OgnlTest
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="10vmtoolÊü•ÁúãÂÜÖÂ≠ò‰∏≠ÁöÑÂÆû‰æãÂº∫Âà∂gc">10.<code>vmtool</code>ÔºöÊü•ÁúãÂÜÖÂ≠ò‰∏≠ÁöÑÂÆû‰æã/Âº∫Âà∂GC</h4>
<ul>
<li>
<p>Ëé∑ÂèñÂÜÖÂ≠ò‰∏≠ÁöÑÂØπË±°</p>
<blockquote>
<p>ÊèêÁ§∫Ôºö
ÈÄöËøá <code>--limit</code>ÂèÇÊï∞ÔºåÂèØ‰ª•ÈôêÂà∂ËøîÂõûÂÄºÊï∞ÈáèÔºåÈÅøÂÖçËé∑ÂèñË∂ÖÂ§ßÊï∞ÊçÆÊó∂ÂØπ JVM ÈÄ†ÊàêÂéãÂäõ„ÄÇÈªòËÆ§ÂÄºÊòØ 10„ÄÇ</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">$ vmtool --action getInstances --className java.lang.String --limit <span class="m">10</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="http://www.rapdog.cn:7777/images/2023/12/26/image-20231226112546961.png"
	
	
	
	loading="lazy"
	
		alt="image-20231226112546961"
	
	
></p>
</li>
<li>
<p>ÊåáÂÆöclassloaderËé∑ÂèñÂØπË±°</p>
<p>Âà©Áî®<code>sc</code>ÂëΩ‰ª§Ëé∑ÂèñÁ±ªÁöÑclassloader hash</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">$ sc -d org.spriogframework.context.ApplicationContext
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="http://www.rapdog.cn:7777/images/2023/12/26/image-20231226155439769.png"
	
	
	
	loading="lazy"
	
		alt="image-20231226155439769"
	
	
></p>
<p>ÂÜçÊåáÂÆöclassloader</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">$ vmtool --action getInstances -c 18b4aac2 --className org.springframework.context.ApplicationContext
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>ÊâßË°åË°®ËææÂºè</p>
<blockquote>
<p>ÊèêÁ§∫</p>
<p><code>getInstances</code> action ËøîÂõûÁªìÊûúÁªëÂÆöÂà∞<code>instances</code>ÂèòÈáè‰∏äÔºåÂÆÉÊòØÊï∞ÁªÑ„ÄÇÂèØ‰ª•ÈÄöËøá<code>--express</code>ÂèÇÊï∞ÊâßË°åÊåáÂÆöÁöÑË°®ËææÂºè„ÄÇ</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">$ vmtool --action getInstances -c 18b4aac2 --className org.springframework.context.ApplicationContext --express <span class="s1">&#39;instances[0].getBeanDefinitionNames()&#39;</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>Âº∫Âà∂GC</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">$ vmtool --action forceGc
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ul>
<hr>
<h3 id="Á§∫‰æãÂú∫ÊôØ">Á§∫‰æãÂú∫ÊôØ</h3>
<h4 id="Âú∫ÊôØ‰∏ÄÊâãÂä®Ëß¶ÂèëbeanÁöÑÊñπÊ≥ï">Âú∫ÊôØ‰∏ÄÔºöÊâãÂä®Ëß¶ÂèëbeanÁöÑÊñπÊ≥ï</h4>
<p>ÊüêÂ∑•Á®ãÁöÑÂÆöÊó∂‰ªªÂä°Êó†Ê≥ïÊ≠£Â∏∏Ëß¶ÂèëÔºåÈúÄË¶ÅÊâãÂä®Ëß¶ÂèëÊüêbean‰∏≠ÁöÑÊñπÊ≥ï</p>
<p>ÂØªÊâæspring ApplicationContextÁöÑclassloader hash</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">$ sc -d org.springframework.context.ApplicationContext
</span></span></code></pre></td></tr></table>
</div>
</div><p>Ëé∑ÂèñÁõÆÊ†ábean</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">$ vmtool --action getInstances -c 18b4aac2 --className org.springframework.context.ApplicationContext --express <span class="s1">&#39;instances[0].getBean(&#34;ibmExcelService&#34;)&#39;</span> -x <span class="m">3</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Ë∞ÉÁî®ÁõÆÊ†ábeanÁöÑÊñπÊ≥ï</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">$ vmtool --action getInstances -c 18b4aac2 --className org.springframework.context.ApplicationContext --express <span class="s1">&#39;instances[0].getBean(&#34;ibmExcelService&#34;).staffExcel(&#34;SYNCID#20231212&#34;)&#39;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="Âú∫ÊôØ‰∫å‰øÆÊîπprivateÂ±ûÊÄß">Âú∫ÊôØ‰∫åÔºö‰øÆÊîπprivateÂ±ûÊÄß</h4>
<p>ÊüêÊé•Âè£‰ΩøÁî®‰∫ÜSYSCODEÂ≠óÊÆµÔºåËØ•Â≠óÊÆµ‰ΩøÁî®@ValueÊ≥®Ëß£ÁªëÂÆöspring-bootÈÖçÁΩÆ‰∏≠ÁöÑÂÄºÔºåÈúÄË¶Å‰øÆÊîπËØ•Â≠óÊÆµ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">TesttController</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="nd">@Value</span><span class="p">(</span><span class="s">&#34;${log4x.audit.opLog.sysCode}&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">SYSCODE</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@PostMapping</span><span class="p">(</span><span class="s">&#34;/arthasTest&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">arthasTest</span><span class="p">(</span><span class="nd">@RequestBody</span><span class="w"> </span><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="n">req</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">SYSCODE</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>‰ΩøÁî®<code>tt</code>ÂëΩ‰ª§ÂºÄÂßãËÆ∞ÂΩïËØ•Êé•Âè£ÁöÑË∞ÉÁî®ËÆ∞ÂΩïÔºåÈöèÂêéË∞ÉÁî®Êé•Âè£ÔºåÊâæÂà∞Êú¨Ê¨°Ë∞ÉÁî®ÁöÑindex</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">$ tt -t com.ai.controller.TesttController arthasTest
</span></span></code></pre></td></tr></table>
</div>
</div><p>Ë∞ÉÁî®Êé•Âè£ÔºåÊü•ÁúãttÂëΩ‰ª§ËÆ∞ÂΩïÁöÑË∞ÉÁî®ËÆ∞ÂΩïÔºåÂèëÁé∞Ë∞ÉÁî®ÁöÑindex‰∏∫1000</p>
<p>ËØªÂèñÁ±ª‰∏≠Â±ûÊÄß</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">$ tt -i <span class="m">1000</span> -w <span class="s1">&#39;target.SYSCODE&#39;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>‰øÆÊîπËØ•Â±ûÊÄß</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">$ tt -i <span class="m">1000</span> -w <span class="s1">&#39;target.SYSCODE=&#34;JCNL&#34;&#39;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>Êä•ÈîôÔºö&ldquo;Error during processing the command: java.lang.IllegalAccessError, message:By default, strict mode is true, not allowed to set object properties. Want to set object properties, execute <code>options strict false</code>, please check $HOME/logs/arthas/arthas.log for more details.&rdquo;</p>
<p>ArthasÈªòËÆ§ËÆæÁΩÆ‰∏çÂÖÅËÆ∏‰øÆÊîπÂ≠óÊÆµÔºåÈúÄË¶ÅÈÄöËøáËøêË°å<code>options strict false</code>ÂëΩ‰ª§Êù•‰øÆÊîπËøô‰∏ÄÈÖçÁΩÆ</p>
</blockquote>
<p>ÂÜçÊ¨°Ë∞ÉÁî®Êé•Âè£ÔºåÂèëÁé∞ËøîÂõûÂ∑≤ÁªèÂèò‰∏∫‰∫ÜÂàöÊâç‰øÆÊîπÁöÑJCNL</p>
<h4 id="Âú∫ÊôØ‰∏â‰∏çÈáçÂêØÊúçÂä°Âà∑Êñ∞csfÂÆ¢Êà∑Á´ØÁºìÂ≠ò">Âú∫ÊôØ‰∏âÔºö‰∏çÈáçÂêØÊúçÂä°Âà∑Êñ∞csfÂÆ¢Êà∑Á´ØÁºìÂ≠ò</h4>
<p>Áî±‰∫écsfÂÆ¢Êà∑Á´ØÊúâÁºìÂ≠òÊú∫Âà∂ÔºåÊñ∞Ê≥®ÂÜåÁöÑcsfÊúçÂä°Âú®‰∏çÈáçÂêØÂÆ¢Êà∑Á´ØÁöÑÂâçÊèê‰∏ãÊó†Ê≥ïËé∑ÂèñÔºåË∞ÉÁî®Êä•Èîô‚ÄùÂÆ¢Êà∑Á´ØËé∑ÂèñÊúçÂä°Âü∫Êú¨‰ø°ÊÅØ‰∏∫Á©∫‚ÄúÔºåÂ∏åÊúõ‰∏çÈÄöËøáÈáçÂêØcsfÂÆ¢Êà∑Á´ØÊù•Ëß£ÂÜ≥</p>
<p>Ëß£ÂÜ≥ËøáÁ®ãÔºöÈÄöËøáÈòÖËØªÊ∫êÁ†ÅÔºåÂèëÁé∞ÂÆ¢Êà∑Á´ØÁöÑcsfÊúçÂä°ÁºìÂ≠òÂ≠òÊîæÂú®com.ai.aif.csf.servicerouter.catelog.centers.center.services.ServicesCatalogÁ±ªÁöÑserviceInfoCacheÂ±ûÊÄß‰∏≠ÔºåServicesCatalogÁ±ª‰∏≠ÁöÑinitOnce()ÊñπÊ≥ïÂèØ‰ª•Âà∑Êñ∞ËØ•ÁºìÂ≠ò</p>
<p>ÂØªÊâæServicesCatalogÁöÑclassloader</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">$ sc -d com.ai.aif.csf.servicerouter.catelog.centers.center.services.ServicesCatalog
</span></span></code></pre></td></tr></table>
</div>
</div><p>ÈÄöËøá<code>vmtool</code>Êü•ÊâæÂÜÖÂ≠ò‰∏≠ÊâÄÊúâÁöÑServicesCatalogÂÆû‰æã</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">$ vmtool --action getInstances -c 18b4aac2 --className com.ai.aif.csf.servicerouter.catelog.centers.center.services.ServicesCatalog
</span></span></code></pre></td></tr></table>
</div>
</div><p>ÂèëÁé∞ÊúâÂ§ö‰∏™ServicesCatalogÂÆû‰æãÔºåÁåúÊµãÊØè‰∏™centerCodeÈÉΩÂØπÂ∫î‰∏Ä‰∏™ServicesCatalog</p>
<p><img src="http://www.rapdog.cn:7777/images/2023/12/26/image-20231226165342772.png"
	
	
	
	loading="lazy"
	
		alt="image-20231226165342772"
	
	
></p>
<p>Âêë‰∏ãËß£ÊûêÂÆû‰æãÁöÑÂ±ûÊÄßÔºåÂ∞ùËØïÂÆö‰ΩçÂà∞Êàë‰ª¨ÈúÄË¶ÅÁöÑÂÆû‰æã</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">$ vmtool --action getInstances -c 18b4aac2 --className com.ai.aif.csf.servicerouter.catelog.centers.center.services.ServicesCatalog -x <span class="m">3</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ÂèØ‰ª•ÁúãÂà∞ÂÆû‰æãÁöÑ‰∏Ä‰∏™Â≠óÊÆµËÆ∞ÂΩï‰∫Ü‰∏≠ÂøÉÁºñÁ†ÅÔºåÂèØ‰ª•ÈÄöËøáËØ•Â≠óÊÆµÁ°ÆÂÆöÊàë‰ª¨ÈúÄË¶ÅÁî®ÁöÑÂÆû‰æã</p>
<p><img src="http://www.rapdog.cn:7777/images/2023/12/26/image-20231226170322826.png"
	
	
	
	loading="lazy"
	
		alt="image-20231226170322826"
	
	
></p>
<p>Áî±‰∫éËØ•Á±ªÁöÑÂ±ûÊÄßËæÉÂ§öÔºå‰∏çÊòØÂæàÊñπ‰æøÊü•ÁúãÔºå‰ΩÜognlË°®ËææÂºèÂπ∂‰∏çÊîØÊåÅÂæ™ÁéØÈÅçÂéÜÔºåÊâÄ‰ª•Êàë‰ª¨Â∞ùËØï‰ΩøÁî®ËßíÊ†áÂçïÁã¨ÊâìÂç∞ÊØè‰∏™ÂÆû‰æãÁöÑcenterCode‰ª•Á°ÆÂÆöÊàë‰ª¨ÈúÄË¶ÅÁöÑÂÆû‰æã</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">$ vmtool --action getInstances -c 18b4aac2 --className com.ai.aif.csf.servicerouter.catelog.centers.center.services.ServicesCatalog --express <span class="s1">&#39;instances[0].centerCode&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">$ vmtool --action getInstances -c 18b4aac2 --className com.ai.aif.csf.servicerouter.catelog.centers.center.services.ServicesCatalog --express <span class="s1">&#39;instances[1].centerCode&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">$ vmtool --action getInstances -c 18b4aac2 --className com.ai.aif.csf.servicerouter.catelog.centers.center.services.ServicesCatalog --express <span class="s1">&#39;instances[2].centerCode&#39;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Áªà‰∫éÔºåÂÆö‰ΩçÂà∞‰∫ÜÊàë‰ª¨ÈúÄË¶ÅÁöÑÂÆû‰æã</p>
<p><img src="http://www.rapdog.cn:7777/images/2023/12/26/image-20231226170740767.png"
	
	
	
	loading="lazy"
	
		alt="image-20231226170740767"
	
	
></p>
<p>‰∏ãÈù¢ÂºÄÂßãË∞ÉÁî®ServicesCatalogÂÆû‰æãÁöÑinitOnce()ÊñπÊ≥ïÂèØ‰ª•Âà∑Êñ∞ËØ•ÂÆû‰æãÁöÑÁºìÂ≠ò</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">$ vmtool --action getInstances -c 18b4aac2 --className com.ai.aif.csf.servicerouter.catelog.centers.center.services.ServicesCatalog --express <span class="s1">&#39;instances[6].initOnce()&#39;</span> -x <span class="m">3</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ÂÜçÊ¨°Ë∞ÉÁî®csfÊé•Âè£ÔºåÂèëÁé∞Ê≠§Êó∂Â∑≤ÁªèÂèØ‰ª•Ê≠£Â∏∏ÁöÑË∞ÉÂà∞csfÊúçÂä°Á´Ø‰∫Ü</p>

</section>


    <footer class="article-footer">
    
    <section class="article-tags">
        
            <a href="/tags/arthas/">arthas</a>
        
            <a href="/tags/java/">java</a>
        
    </section>


    
    <section class="article-copyright">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <path d="M14.5 9a3.5 4 0 1 0 0 6" />
</svg>



        <span>Licensed under CC BY-NC-SA 4.0</span>
    </section>
    </footer>


    
</article>

    

    

<aside class="related-content--wrapper">
    <h2 class="section-title">Áõ∏ÂÖ≥ÊñáÁ´†</h2>
    <div class="related-content">
        <div class="flex article-list--tile">
            
                
<article class="">
    <a href="/p/hugo/">
        
        

        <div class="article-details">
            <h2 class="article-title">Hugo</h2>
        </div>
    </a>
</article>

            
        </div>
    </div>
</aside>

     
    
        
    <div class="disqus-container">
    <div id="disqus_thread"></div>
<script>
    window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "hugo-theme-stack" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>

<style>
    .disqus-container {
        background-color: var(--card-background);
        border-radius: var(--card-border-radius);
        box-shadow: var(--shadow-l1);
        padding: var(--card-padding);
    }
</style>

<script>
    window.addEventListener('onColorSchemeChange', (e) => {
        if (typeof DISQUS == 'object') {
            DISQUS.reset({
                reload: true
            });
        }
    })
</script>

    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
            2020 - 
        
        2023 Hugo Theme Stack Starter
    </section>
    
    <section class="powerby">
        Built with <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> <br />
        ‰∏ªÈ¢ò <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.21.0">Stack</a></b> Áî± <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a> ËÆæËÆ°
    </section>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >

            </main>
        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/ts/main.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

    </body>
</html>
